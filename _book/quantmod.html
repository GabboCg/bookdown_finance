<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introducción a las finanzas quantitativas</title>
  <meta name="description" content="Esto es un apunte en proceso pensado en el curso Finanza I de Ingeniería Comercial de la Universidad de Chile">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Introducción a las finanzas quantitativas" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Esto es un apunte en proceso pensado en el curso Finanza I de Ingeniería Comercial de la Universidad de Chile" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introducción a las finanzas quantitativas" />
  
  <meta name="twitter:description" content="Esto es un apunte en proceso pensado en el curso Finanza I de Ingeniería Comercial de la Universidad de Chile" />
  

<meta name="author" content="Gabriel Cabrera G.">


<meta name="date" content="2018-08-21">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="intro.html">

<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #0000ff; } /* Keyword */
code > span.ch { color: #008080; } /* Char */
code > span.st { color: #008080; } /* String */
code > span.co { color: #008000; } /* Comment */
code > span.ot { color: #ff4000; } /* Other */
code > span.al { color: #ff0000; } /* Alert */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #008000; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #008080; } /* SpecialChar */
code > span.vs { color: #008080; } /* VerbatimString */
code > span.ss { color: #008080; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #0000ff; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ff4000; } /* Preprocessor */
code > span.do { color: #008000; } /* Documentation */
code > span.an { color: #008000; } /* Annotation */
code > span.cv { color: #008000; } /* CommentVar */
code > span.at { } /* Attribute */
code > span.in { color: #008000; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Finance Rocks!!</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="sobre-el-autor.html"><a href="sobre-el-autor.html"><i class="fa fa-check"></i>Sobre el Autor</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#r"><i class="fa fa-check"></i><b>1.1</b> R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#un-poco-de-historia"><i class="fa fa-check"></i><b>1.1.1</b> Un poco de historia</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#los-primeros-pasos"><i class="fa fa-check"></i><b>1.1.2</b> Los primeros pasos</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#partes-de-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Partes de RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>Scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#proyectos"><i class="fa fa-check"></i><b>1.4</b> Proyectos</a><ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#por-que-esto-es-util"><i class="fa fa-check"></i><b>1.4.1</b> ¿Por qué esto es útil?</a></li>
<li class="chapter" data-level="1.4.2" data-path="intro.html"><a href="intro.html#como-crear-un-projecto"><i class="fa fa-check"></i><b>1.4.2</b> ¿Cómo crear un projecto?</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#packages"><i class="fa fa-check"></i><b>1.5</b> <em>Packages</em></a><ul>
<li class="chapter" data-level="1.5.1" data-path="intro.html"><a href="intro.html#tidyverse"><i class="fa fa-check"></i><b>1.5.1</b> <em>tidyverse</em></a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#ejemplo"><i class="fa fa-check"></i><b>1.6</b> Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="quantmod.html"><a href="quantmod.html"><i class="fa fa-check"></i><b>2</b> Quantmod</a><ul>
<li class="chapter" data-level="2.1" data-path="quantmod.html"><a href="quantmod.html#que-es-quantmod"><i class="fa fa-check"></i><b>2.1</b> ¿Que es quantmod?</a></li>
<li class="chapter" data-level="2.2" data-path="quantmod.html"><a href="quantmod.html#obtencion-de-datos"><i class="fa fa-check"></i><b>2.2</b> Obtención de Datos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="quantmod.html"><a href="quantmod.html#que-hizo-la-funcion-getsymbols"><i class="fa fa-check"></i><b>2.2.1</b> ¿Qué hizo la función <code>getSymbols</code>?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="quantmod.html"><a href="quantmod.html#graficando-con-chartseries"><i class="fa fa-check"></i><b>2.3</b> Graficando con <code>chartSeries</code></a><ul>
<li class="chapter" data-level="2.3.1" data-path="quantmod.html"><a href="quantmod.html#chartseries"><i class="fa fa-check"></i><b>2.3.1</b> <code>chartSeries</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="quantmod.html"><a href="quantmod.html#graficando-con-ggplot2"><i class="fa fa-check"></i><b>2.4</b> Graficando con <code>ggplot2</code></a><ul>
<li class="chapter" data-level="2.4.1" data-path="quantmod.html"><a href="quantmod.html#breve-introduccion-a-ggplot2"><i class="fa fa-check"></i><b>2.4.1</b> Breve introducción a <code>ggplot2</code></a></li>
<li class="chapter" data-level="2.4.2" data-path="quantmod.html"><a href="quantmod.html#color-tamano-forma-y-otros-atributos-del-aesthetic"><i class="fa fa-check"></i><b>2.4.2</b> Color, tamaño, forma y otros atributos del <em>aesthetic</em></a></li>
<li class="chapter" data-level="2.4.3" data-path="quantmod.html"><a href="quantmod.html#sp-500-con-ggplot2"><i class="fa fa-check"></i><b>2.4.3</b> S&amp;P 500 con <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="quantmod.html"><a href="quantmod.html#multiples-datos"><i class="fa fa-check"></i><b>2.5</b> Multiples Datos</a><ul>
<li class="chapter" data-level="2.5.1" data-path="quantmod.html"><a href="quantmod.html#retornos"><i class="fa fa-check"></i><b>2.5.1</b> Retornos</a></li>
<li class="chapter" data-level="2.5.2" data-path="quantmod.html"><a href="quantmod.html#retornos-acumulados"><i class="fa fa-check"></i><b>2.5.2</b> Retornos Acumulados</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="quantmod.html"><a href="quantmod.html#estadistica-descriptiva"><i class="fa fa-check"></i><b>2.6</b> Estadística Descriptiva</a></li>
<li class="chapter" data-level="2.7" data-path="quantmod.html"><a href="quantmod.html#test-de-jarquebera"><i class="fa fa-check"></i><b>2.7</b> Test de JarqueBera</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a las finanzas quantitativas</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="quantmod" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Quantmod</h1>
<p>El paquete quantmod para R esta diseñado para la asistencia quantitativa de los traders en el desarrollo de sus estrategias y modelos financieros.</p>
<div id="que-es-quantmod" class="section level2">
<h2><span class="header-section-number">2.1</span> ¿Que es quantmod?</h2>
<p>Un entorno rápido, donde los operadores cuantitativos pueden explorar y construir modelos de negociación rápida y limpiamente. A través de la función getSymbols podemos extraer datos financieros desde varias fuentes: Google Finance, Yahoo Finance, Federal Reserve Bank of St. Louis FRED (más de 11,000 series !!!) y Oanda. Incluso desde fuentes propias: MySQL , R (Rdata) y Comma Separated Value files (csv).</p>
<p>No es el paquete definitivo dado que se complementa con otros, tales como: TTR, zoo y xts. En lo que respecta al análisis técnico son las más usadas en el mercado y usan todas las propiedades que hacen al lenguaje R útil para realizar análisis de datos<a href="#fn5" class="footnoteRef" id="fnref5"><sup>5</sup></a>.</p>
</div>
<div id="obtencion-de-datos" class="section level2">
<h2><span class="header-section-number">2.2</span> Obtención de Datos</h2>
<p>Para comenzar, como todo paquete en R se debe instalar</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Instalación package</span>
<span class="kw">install.packages</span>(<span class="st">&quot;quantmod&quot;</span>)</code></pre></div>
<p>Una vez que esté instalado, creamos nuestro script usando <code>ctrl/cmd + shift + n</code> y lo “llamamos” con</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Cargamos &quot;quantmod&quot;</span>
<span class="kw">library</span>(<span class="st">&quot;quantmod&quot;</span>)</code></pre></div>
<blockquote>
<p>HINT: con <code>ctrl + R</code> en windows/Linux y <code>cmd + R</code> en MAC OS agregamos más rapido comentarios (sección) en Rstudio.</p>
</blockquote>
<p><strong>quantmod</strong> provee una función para descargar datos desde fuentes externas. Esta función se llama <code>getSymbols</code>, para mayor información escribir en la linea de comandos <code>?getSymbols</code><a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a>. Por defecto, se crea un objeto en el workspace (<em>Global Environment</em>) con el nombre del ticker/nemotécnico seleccionado. Imaginemos por un momento que necesitamos analizar el S&amp;P 500 desde el 2010 hasta la fecha con periocidad diaria. Lo primero que debemos hacer es pensar desde que fuente vamos a descargar los datos, como es un índice accionario se recomienda usar <em>yahoo finance</em>, luego buscar el nemotécnico, en este caso es “^GSPC”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getSymbols</span>(<span class="st">&quot;^GSPC&quot;</span>, <span class="dt">src =</span> <span class="st">&quot;yahoo&quot;</span>, <span class="dt">from =</span> <span class="st">&quot;2010-01-01&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2010-07-30&quot;</span>, <span class="dt">periodicity =</span> <span class="st">&quot;daily&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;GSPC&quot;</code></pre>
<div id="que-hizo-la-funcion-getsymbols" class="section level3">
<h3><span class="header-section-number">2.2.1</span> ¿Qué hizo la función <code>getSymbols</code>?</h3>
<p>La función <code>getSymbols</code> se construye basicamente de cinco opciones<a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a>:</p>
<ol style="list-style-type: decimal">
<li>El ticker/nemotécnico, eg. ^GSPC.</li>
<li><code>src</code>, que es la abreviación de “source”, eg. yahoo, FRED…</li>
<li><code>from</code>, es el inicio de la fecha a descargar, tener presente que se incluye la fecha en nuestros datos.</li>
<li><code>to</code>, es el final del periodo para los datos, este no se incluye.</li>
<li><code>periodicity</code>, es la periodicidad de los datos, eg. daily, monthly o yearly, solo algunos datos se ajustan a las tres periodicidades.</li>
</ol>
<p>En el ejemplo anterior se descargo desde yahoo los datos del S&amp;P 500 desde Enero del 2010 hasta el viernes 27 de Julio del 2018 con periodicidad diaria, construyendo un objeto en formato <strong>xts</strong> cuyo nombre es GSPC.</p>
<div id="htmlwidget-a4f2938e9976c570b101" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a4f2938e9976c570b101">{"x":{"filter":"none","data":[[1116.560059,1132.660034,1135.709961,1136.27002,1140.52002,1145.959961,1143.810059,1137.310059,1145.680054,1147.719971,1136.030029,1147.949951,1138.680054,1115.48999,1092.400024,1095.800049,1091.939941,1096.930054,1087.609985,1073.890015,1090.050049,1100.670044,1097.25,1064.119995,1065.51001,1060.060059,1069.680054,1067.099976,1075.949951,1079.130005,1096.140015,1099.030029,1105.48999,1110,1107.48999,1095.890015,1101.23999,1103.099976,1105.359985,1117.01001,1119.359985,1119.119995,1125.119995,1138.400024,1137.560059,1140.219971,1143.959961,1151.709961,1148.530029,1150.829956,1159.939941,1166.130005,1166.680054,1157.25,1166.469971,1172.699951,1170.030029,1167.579956,1167.709961,1173.75,1171.75,1171.22998,1178.709961,1186.01001,1188.22998,1181.75,1187.469971,1194.939941,1195.939941,1198.689941,1210.77002,1210.170044,1192.060059,1199.040039,1207.160034,1202.52002,1207.869995,1217.069946,1209.920044,1184.589966,1193.300049,1206.77002,1188.579956,1197.5,1169.23999,1164.380005,1127.040039,1122.27002,1156.390015,1155.430054,1170.040039,1157.189941,1136.52002,1138.780029,1119.569946,1107.339966,1067.26001,1084.780029,1067.420044,1075.51001,1074.27002,1102.589966,1087.300049,1073.01001,1098.819946,1098.430054,1065.839966,1050.810059,1062.75,1058.77002,1082.650024,1095,1091.209961,1114.02002,1115.97998,1116.160034,1122.790039,1113.900024,1095.569946,1090.930054,1075.099976,1077.5,1071.099976,1040.560059,1031.099976,1027.650024,1028.089966,1028.540039,1062.920044,1070.5,1077.22998,1080.650024,1095.609985,1094.459961,1093.849976,1066.849976,1064.530029,1086.670044,1072.140015,1092.170044,1102.890015,1117.359985,1112.839966,1108.069946],[1133.869995,1136.630005,1139.189941,1142.459961,1145.390015,1149.73999,1143.810059,1148.400024,1150.410034,1147.77002,1150.449951,1147.949951,1141.579956,1115.48999,1102.969971,1103.689941,1099.51001,1100.219971,1096.449951,1089.380005,1104.72998,1102.719971,1097.25,1067.130005,1071.199951,1079.280029,1073.670044,1080.040039,1077.810059,1095.670044,1101.030029,1108.23999,1112.420044,1112.290039,1108.579956,1106.420044,1103.5,1107.23999,1116.109985,1123.459961,1125.640015,1123.72998,1139.380005,1141.050049,1145.369995,1148.26001,1150.23999,1153.410034,1150.97998,1160.280029,1169.839966,1167.77002,1169.199951,1167.819946,1174.719971,1173.040039,1180.689941,1173.930054,1174.849976,1177.829956,1174.560059,1181.430054,1187.72998,1191.800049,1189.599976,1188.550049,1194.660034,1199.199951,1199.040039,1210.650024,1213.920044,1210.170044,1197.869995,1208.579956,1210.98999,1210.27002,1217.280029,1219.800049,1211.380005,1195.050049,1209.359985,1207.98999,1205.130005,1197.5,1175.949951,1167.579956,1135.130005,1163.849976,1170.47998,1172.869995,1173.569946,1157.189941,1141.880005,1148.660034,1124.27002,1107.339966,1090.160034,1089.949951,1074.75,1090.75,1103.52002,1102.589966,1094.77002,1098.560059,1105.670044,1098.430054,1071.359985,1063.150024,1077.73999,1087.849976,1092.25,1105.910034,1115.589966,1118.73999,1117.719971,1121.01001,1131.22998,1118.5,1099.640015,1090.930054,1083.560059,1082.599976,1071.099976,1048.079956,1033.579956,1032.949951,1042.5,1060.890015,1071.25,1078.160034,1080.780029,1099.459961,1099.079956,1098.660034,1093.849976,1074.699951,1083.939941,1088.959961,1097.5,1103.72998,1115.01001,1120.949951,1114.660034,1115.900024],[1116.560059,1129.660034,1133.949951,1131.319946,1136.219971,1142.02002,1131.77002,1133.180054,1143.800049,1131.390015,1135.77002,1129.25,1114.839966,1090.180054,1092.400024,1089.859985,1083.109985,1078.459961,1071.589966,1073.890015,1087.959961,1093.969971,1062.780029,1044.5,1056.51001,1060.060059,1059.339966,1060.589966,1062.969971,1079.130005,1094.719971,1097.47998,1100.800049,1105.380005,1092.180054,1095.5,1086.02002,1097.560059,1105.359985,1116.51001,1116.579956,1116.660034,1125.119995,1136.77002,1134.900024,1140.089966,1138.98999,1146.969971,1141.449951,1150.349976,1159.939941,1161.160034,1155.329956,1152.880005,1163.829956,1166.01001,1165.089966,1161.47998,1167.709961,1168.920044,1165.77002,1170.689941,1178.709961,1182.77002,1177.25,1175.119995,1187.150024,1194.709961,1188.819946,1198.689941,1208.5,1186.77002,1183.680054,1199.040039,1198.849976,1190.189941,1205.099976,1211.069946,1181.619995,1181.810059,1193.300049,1186.319946,1188.579956,1168.119995,1158.150024,1065.790039,1094.150024,1122.27002,1147.709961,1155.430054,1156.140015,1126.140015,1114.959961,1117.199951,1100.660034,1071.579956,1055.900024,1072.699951,1040.780029,1065.589966,1074.27002,1084.780029,1069.890015,1072.030029,1091.810059,1060.5,1049.859985,1042.170044,1052.25,1058.77002,1077.119995,1089.030029,1091.209961,1107.130005,1105.869995,1113.930054,1108.23999,1094.180054,1085.310059,1071.599976,1067.890015,1071.449951,1035.180054,1028.329956,1010.909973,1015.929993,1018.349976,1028.540039,1058.23999,1068.099976,1070.449951,1080.650024,1087.680054,1080.530029,1063.319946,1061.109985,1056.880005,1065.25,1072.140015,1087.880005,1101.300049,1109.780029,1103.109985,1092.819946],[1132.98999,1136.52002,1137.140015,1141.689941,1144.97998,1146.97998,1136.219971,1145.680054,1148.459961,1136.030029,1150.22998,1138.040039,1116.47998,1091.76001,1096.780029,1092.170044,1097.5,1084.530029,1073.869995,1089.189941,1103.319946,1097.280029,1063.109985,1066.189941,1056.73999,1070.52002,1068.130005,1078.469971,1075.51001,1094.869995,1099.51001,1106.75,1109.170044,1108.01001,1094.599976,1105.23999,1102.939941,1104.48999,1115.709961,1118.310059,1118.790039,1122.969971,1138.699951,1138.5,1140.449951,1145.609985,1150.23999,1149.98999,1150.51001,1159.459961,1166.209961,1165.829956,1159.900024,1165.810059,1174.170044,1167.719971,1165.72998,1166.589966,1173.219971,1173.27002,1169.430054,1178.099976,1187.439941,1189.439941,1182.449951,1186.439941,1194.369995,1196.47998,1197.300049,1210.650024,1211.670044,1192.130005,1197.52002,1207.170044,1205.939941,1208.670044,1217.280029,1212.050049,1183.709961,1191.359985,1206.780029,1186.689941,1202.26001,1173.599976,1165.869995,1128.150024,1110.880005,1159.72998,1155.790039,1171.670044,1157.439941,1135.680054,1136.939941,1120.800049,1115.050049,1071.589966,1087.689941,1073.650024,1074.030029,1067.949951,1103.060059,1089.410034,1070.709961,1098.380005,1102.829956,1064.880005,1050.469971,1062,1055.689941,1086.839966,1091.599976,1089.630005,1115.22998,1114.609985,1116.040039,1117.51001,1113.199951,1095.310059,1092.040039,1073.689941,1076.76001,1074.569946,1041.23999,1030.709961,1027.369995,1022.580017,1028.060059,1060.27002,1070.25,1077.959961,1078.75,1095.339966,1095.170044,1096.47998,1064.880005,1071.25,1083.47998,1069.589966,1093.670044,1102.660034,1115.01001,1113.839966,1106.130005,1101.530029],[3991400000,2491020000,4972660000,5270680000,4389590000,4255780000,4716160000,4170360000,3915200000,4758730000,4724830000,4810560000,6874290000,6208650000,4481390000,4731910000,5319120000,5452400000,5412850000,4077610000,4749540000,4285450000,5859690000,6438900000,4089820000,5114260000,4251450000,4400870000,4160680000,4080770000,4259230000,3878620000,3944280000,3814440000,4521050000,4168360000,4521130000,3945190000,3847640000,4134680000,3951320000,3945010000,4133000000,3774680000,5185570000,5469120000,4669060000,4928160000,4164110000,4369770000,4963200000,4234510000,5212410000,4261680000,4411640000,4705750000,5668900000,4708420000,4375580000,4085000000,4484340000,4006870000,3881620000,4086180000,5101430000,4726970000,4511570000,4607090000,5403580000,5760040000,5995330000,8108470000,6597740000,5316590000,5724310000,6035780000,5326060000,5647760000,7454540000,6342310000,6059410000,6048260000,4938050000,6594720000,6795940000,10617810000,9472910000,6893700000,5842550000,5225460000,4870640000,6126400000,5922920000,6170840000,6765800000,8328570000,5452130000,5224040000,7329580000,4521050000,5698460000,4871210000,5271480000,5026360000,4995970000,6180580000,5467560000,6192750000,5983200000,5144780000,4059280000,4425830000,4644490000,5002600000,4557760000,4555360000,4514360000,4514380000,4526150000,4814830000,5128840000,3896410000,6136700000,5067080000,6435770000,3968500000,4691240000,4931220000,4548460000,3506570000,3426990000,4640460000,4521050000,4552470000,5297350000,4089500000,4713280000,4747180000,4826900000,4524570000,4009650000,4725690000,4002390000,4612420000],[1132.98999,1136.52002,1137.140015,1141.689941,1144.97998,1146.97998,1136.219971,1145.680054,1148.459961,1136.030029,1150.22998,1138.040039,1116.47998,1091.76001,1096.780029,1092.170044,1097.5,1084.530029,1073.869995,1089.189941,1103.319946,1097.280029,1063.109985,1066.189941,1056.73999,1070.52002,1068.130005,1078.469971,1075.51001,1094.869995,1099.51001,1106.75,1109.170044,1108.01001,1094.599976,1105.23999,1102.939941,1104.48999,1115.709961,1118.310059,1118.790039,1122.969971,1138.699951,1138.5,1140.449951,1145.609985,1150.23999,1149.98999,1150.51001,1159.459961,1166.209961,1165.829956,1159.900024,1165.810059,1174.170044,1167.719971,1165.72998,1166.589966,1173.219971,1173.27002,1169.430054,1178.099976,1187.439941,1189.439941,1182.449951,1186.439941,1194.369995,1196.47998,1197.300049,1210.650024,1211.670044,1192.130005,1197.52002,1207.170044,1205.939941,1208.670044,1217.280029,1212.050049,1183.709961,1191.359985,1206.780029,1186.689941,1202.26001,1173.599976,1165.869995,1128.150024,1110.880005,1159.72998,1155.790039,1171.670044,1157.439941,1135.680054,1136.939941,1120.800049,1115.050049,1071.589966,1087.689941,1073.650024,1074.030029,1067.949951,1103.060059,1089.410034,1070.709961,1098.380005,1102.829956,1064.880005,1050.469971,1062,1055.689941,1086.839966,1091.599976,1089.630005,1115.22998,1114.609985,1116.040039,1117.51001,1113.199951,1095.310059,1092.040039,1073.689941,1076.76001,1074.569946,1041.23999,1030.709961,1027.369995,1022.580017,1028.060059,1060.27002,1070.25,1077.959961,1078.75,1095.339966,1095.170044,1096.47998,1064.880005,1071.25,1083.47998,1069.589966,1093.670044,1102.660034,1115.01001,1113.839966,1106.130005,1101.530029]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>GSPC.Open<\/th>\n      <th>GSPC.High<\/th>\n      <th>GSPC.Low<\/th>\n      <th>GSPC.Close<\/th>\n      <th>GSPC.Volume<\/th>\n      <th>GSPC.Adjusted<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4,5]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="graficando-con-chartseries" class="section level2">
<h2><span class="header-section-number">2.3</span> Graficando con <code>chartSeries</code></h2>
<p>Aún no introducimos la librería <code>ggplot2</code>, sin embargo, <code>quantmod</code> también nos permite graficar.</p>
<div id="chartseries" class="section level3">
<h3><span class="header-section-number">2.3.1</span> <code>chartSeries</code></h3>
<p>Para graficar basta con escribir el nombre del objeto con clase (<code>class</code>) xts, en nuestro caso es <code>GSPC</code> que representa al Standard and Poor 500. Si escribimos <code>TA = NULL</code>, <code>charSeries</code> no mostrará el volume<a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chartSeries</span>(GSPC, <span class="dt">TA=</span><span class="ot">NULL</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-11"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-11-1.png" alt="Gráfico con chartSeries con TA = NULL" width="75%" />
<p class="caption">
Figure 2.1: Gráfico con chartSeries con TA = NULL
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chartSeries</span>(GSPC, <span class="dt">TA=</span><span class="ot">NULL</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-12"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-12-1.png" alt="Gráfico con chartSeries sin TA = NULL" width="75%" />
<p class="caption">
Figure 2.2: Gráfico con chartSeries sin TA = NULL
</p>
</div>
<p>Pero cuando las series son muy largas, podemos ver tendencias pero dificulta ver cambios importantes a nivel de análisis técnico.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chartSeries</span>(GSPC, <span class="dt">subset =</span> <span class="st">&quot;last 3 months&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-13"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-13-1.png" alt="Los últimos 3 meses de GSPC" width="75%" />
<p class="caption">
Figure 2.3: Los últimos 3 meses de GSPC
</p>
</div>
<p>Con el código anterior nos enfocamos solo en los tres meses anteriores.</p>
</div>
</div>
<div id="graficando-con-ggplot2" class="section level2">
<h2><span class="header-section-number">2.4</span> Graficando con <code>ggplot2</code></h2>
<p>Si bien <code>chartSeries</code> es una alternativa a <code>plot</code> o <code>plotly</code>, este no nos permite realizar gráficos que se adapten a nuestras necesidades. ¿Qué pasa si queremos graficar retornos o retornos acumulados? la opción por exelencia es <code>ggplot2</code>.</p>
<div id="breve-introduccion-a-ggplot2" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Breve introducción a <code>ggplot2</code></h3>
<p>Todo ggplot2 plot tiene tres componentes:</p>
<ol style="list-style-type: decimal">
<li>Datos</li>
<li>Un conjunto de aesthetic mappings entre variables y propiedades de visualización.</li>
<li>Al menos una layer que describe la observación, son usualmente creadas con la función geom_*</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)</code></pre></div>
<p>A continuación usaremos la base que viene pre cargada con R cuando lo instalamos, que es <code>cars</code><a href="#fn9" class="footnoteRef" id="fnref9"><sup>9</sup></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> hwy)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-15"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-15-1.png" alt="Ejemplo 1 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.4: Ejemplo 1 usando ggplot2
</p>
</div>
<p>Esto produce el scatterplot definido como:</p>
<ol style="list-style-type: decimal">
<li>Datos: mpg</li>
<li>Aesthetic mapping: tamaño del motor en la posición x, gasolina en la posición y.</li>
<li>Layer: puntos.</li>
</ol>
</div>
<div id="color-tamano-forma-y-otros-atributos-del-aesthetic" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Color, tamaño, forma y otros atributos del <em>aesthetic</em></h3>
<p>Se debe usar otro aesthetics como <code>colour</code>, <code>shape</code> y <code>size</code> (ggplot acepta los nombres americanos como británicos)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(displ, cty, <span class="dt">colour =</span> class)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() </code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-16"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-16-1.png" alt="Ejemplo 2 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.5: Ejemplo 2 usando ggplot2
</p>
</div>
<ul>
<li>Como se puede ver, se creo una guía con los valores, leyenda, así podemos “leer” el gráfico.</li>
<li>Si se quiere aesthetic para valores fijos, sin scaling:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(displ, hwy)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>))</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-17"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-17-1.png" alt="Ejemplo 3 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.6: Ejemplo 3 usando ggplot2
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(displ, hwy)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-17"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-17-2.png" alt="Ejemplo 3 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.6: Ejemplo 3 usando ggplot2
</p>
</div>
<p>Ejercicios:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">aes</span>(displ, hwy, <span class="dt">colour =</span> class)
<span class="kw">aes</span>(displ, hwy, <span class="dt">shape =</span> drv)
<span class="kw">aes</span>(displ, hwy, <span class="dt">size =</span> cyl)</code></pre></div>
<ul>
<li>Se recomienda usar <code>colour</code> y <code>shape</code> con variables categóricas.<br />
</li>
<li>Mientras que size funciona bien con variables continuas.</li>
</ul>
</div>
<div id="sp-500-con-ggplot2" class="section level3">
<h3><span class="header-section-number">2.4.3</span> S&amp;P 500 con <code>ggplot2</code></h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gspc &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(GSPC)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(gspc) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="kw">index</span>(gspc),GSPC.Adjusted))
g1 &lt;-<span class="st"> </span>g1 <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;S&amp;P 500&quot;</span>, <span class="dt">subtitle =</span> <span class="st">&quot;Desde Enero 2010 a 2018&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Fecha&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>)
g1 &lt;-<span class="st"> </span>g1 <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()
g1</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-19"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-19-1.png" alt="Standard and Poor 500 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.7: Standard and Poor 500 usando ggplot2
</p>
</div>
</div>
</div>
<div id="multiples-datos" class="section level2">
<h2><span class="header-section-number">2.5</span> Multiples Datos</h2>
<p>A continuación trabajaremos con las acciones de Oracle, Nvidia, IBM y AMD, comenzamos con crear un objeto con los nombres de los tickers</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tickers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ORCL&quot;</span>,<span class="st">&quot;AMD&quot;</span>,<span class="st">&quot;IBM&quot;</span>,<span class="st">&quot;NVDA&quot;</span>)</code></pre></div>
<p>descargamos los datos con las características requeridas, que son las mismas que usamos anteriormente con S&amp;P 500</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getSymbols</span>(tickers, <span class="dt">src =</span> <span class="st">&quot;yahoo&quot;</span>, <span class="dt">from =</span> <span class="st">&quot;2010-01-01&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2018-07-30&quot;</span>, <span class="dt">periodicity =</span> <span class="st">&quot;daily&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;ORCL&quot; &quot;AMD&quot;  &quot;IBM&quot;  &quot;NVDA&quot;</code></pre>
<p>Acá deben tener mucha atención:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">list &lt;-<span class="st"> </span><span class="kw">lapply</span>(tickers, <span class="cf">function</span>(x) <span class="kw">Cl</span>(<span class="kw">get</span>(x)))
precio.cierre &lt;-<span class="st"> </span><span class="kw">do.call</span>(merge,list)</code></pre></div>
<div id="retornos" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Retornos</h3>
<p>La formula para calcular (log) retornos es</p>
<p><span class="math display">\[
r_t = log(1 + R_t) = log(\frac{P_t}{P_{t-1}}) = p_t - p_{t-1}
\]</span> donde <span class="math inline">\(p_t = log(P_t)\)</span> es llamado “log price”.</p>
<p>Ahora pasamos a construir el retorno.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">retornos &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">apply</span>(precio.cierre, <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="kw">Delt</span>(x, <span class="dt">type =</span> <span class="st">&quot;log&quot;</span>)),
                       <span class="dt">fecha =</span> <span class="kw">index</span>(precio.cierre)) <span class="op">%&gt;%</span>
<span class="st">            </span><span class="kw">rename</span>(<span class="dt">orcl =</span> ORCL.Close, <span class="dt">amd =</span> AMD.Close, <span class="dt">ibm =</span> IBM.Close, <span class="dt">nvda =</span> NVDA.Close) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">            </span><span class="kw">na.omit</span>() </code></pre></div>
</div>
<div id="retornos-acumulados" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Retornos Acumulados</h3>
<p>Si graficamos los retornos no será muy descriptivo, una forma es trabajar con su acumulado. Con la misma lógica usamos la función <code>cumsum()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">acumulados &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">apply</span>(retornos[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="kw">cumsum</span>(x)), <span class="dt">fecha =</span> <span class="kw">index</span>(precio.cierre[<span class="op">-</span><span class="dv">1</span>]))</code></pre></div>
<div id="grafico-retornos-acumulados" class="section level4">
<h4><span class="header-section-number">2.5.2.1</span> Gráfico retornos acumulados</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;reshape2&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reshape &lt;-<span class="st"> </span><span class="kw">melt</span>(acumulados, <span class="dt">id.vars =</span> <span class="st">&quot;fecha&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(reshape) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(fecha,value, <span class="dt">color =</span> variable))
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Retornos Acumulados&quot;</span>, <span class="dt">subtitle =</span> <span class="st">&quot;Oracle, AMD, IBM y Nvidia&quot;</span>)
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Fecha&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Retornos Acumulados&quot;</span>)
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_manual</span>(<span class="st">&quot;Tickers&quot;</span>, <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;orange&quot;</span>))
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)
g2</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-27"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-27-1.png" alt="Retornos Acumulados de los tickers" width="75%" />
<p class="caption">
Figure 2.8: Retornos Acumulados de los tickers
</p>
</div>
</div>
</div>
</div>
<div id="estadistica-descriptiva" class="section level2">
<h2><span class="header-section-number">2.6</span> Estadística Descriptiva</h2>
<p>Existe muchas formas de obtener la estadística descriptiva en R, un librería es <code>fBasics</code>, la que a su vez contiene test de normalidad.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;fBasics&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summary &lt;-<span class="st"> </span><span class="kw">basicStats</span>(retornos[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>])[<span class="kw">c</span>(<span class="st">&quot;Mean&quot;</span>, <span class="st">&quot;Stdev&quot;</span>, <span class="st">&quot;Median&quot;</span>, <span class="st">&quot;Minimum&quot;</span>, <span class="st">&quot;Variance&quot;</span>,
                                       <span class="st">&quot;Maximum&quot;</span>, <span class="st">&quot;nobs&quot;</span>,<span class="st">&quot;Skewness&quot;</span>,<span class="st">&quot;Kurtosis&quot;</span>),]</code></pre></div>
</div>
<div id="test-de-jarquebera" class="section level2">
<h2><span class="header-section-number">2.7</span> Test de JarqueBera</h2>

</div>
</div>














<div class="footnotes">
<hr />
<ol start="5">
<li id="fn5"><p>Proximamente incluire el tidyquant<a href="quantmod.html#fnref5">↩</a></p></li>
<li id="fn6"><p>No solo funcióna con <code>getSymbols</code>, si no que con todas las funciones de distintas librerias, basta con ante poner <code>?</code> y luego el nombre la función<a href="quantmod.html#fnref6">↩</a></p></li>
<li id="fn7"><p>Por el momento solo trabajaremos con estas opciones, exiten más.<a href="quantmod.html#fnref7">↩</a></p></li>
<li id="fn8"><p><code>TA</code> proviene de <em>Technical Analysis</em><a href="quantmod.html#fnref8">↩</a></p></li>
<li id="fn9"><p>Esta base es muy común en los software estadísticos y presenta datos de autos.<a href="quantmod.html#fnref9">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-quantmod.Rmd",
"text": "Edit"
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
