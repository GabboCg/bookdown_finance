<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Capítulo 2 Quantmod | Introducción a las finanzas quantitativas</title>
  <meta name="description" content="Esto es un apunte en proceso pensado en el curso Finanza I de Ingeniería Comercial de la Universidad de Chile">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Capítulo 2 Quantmod | Introducción a las finanzas quantitativas" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Esto es un apunte en proceso pensado en el curso Finanza I de Ingeniería Comercial de la Universidad de Chile" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 2 Quantmod | Introducción a las finanzas quantitativas" />
  
  <meta name="twitter:description" content="Esto es un apunte en proceso pensado en el curso Finanza I de Ingeniería Comercial de la Universidad de Chile" />
  

<meta name="author" content="Gabriel Cabrera G.">


<meta name="date" content="2019-04-14">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="intro.html">
<link rel="next" href="portafolio.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Finance Rocks!!</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="sobre-el-autor.html"><a href="sobre-el-autor.html"><i class="fa fa-check"></i>Sobre el Autor</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#r"><i class="fa fa-check"></i><b>1.1</b> R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#un-poco-de-historia"><i class="fa fa-check"></i><b>1.1.1</b> Un poco de historia</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#los-primeros-pasos"><i class="fa fa-check"></i><b>1.1.2</b> Los primeros pasos</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#partes-de-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Partes de RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>Scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#proyectos"><i class="fa fa-check"></i><b>1.4</b> Proyectos</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#packages"><i class="fa fa-check"></i><b>1.5</b> <em>Packages</em></a><ul>
<li class="chapter" data-level="1.5.1" data-path="intro.html"><a href="intro.html#tidyverse"><i class="fa fa-check"></i><b>1.5.1</b> <em>tidyverse</em></a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#ejemplo"><i class="fa fa-check"></i><b>1.6</b> Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="quantmod.html"><a href="quantmod.html"><i class="fa fa-check"></i><b>2</b> Quantmod</a><ul>
<li class="chapter" data-level="2.1" data-path="quantmod.html"><a href="quantmod.html#que-es-quantmod"><i class="fa fa-check"></i><b>2.1</b> ¿Que es quantmod?</a></li>
<li class="chapter" data-level="2.2" data-path="quantmod.html"><a href="quantmod.html#obtencion-de-datos"><i class="fa fa-check"></i><b>2.2</b> Obtención de Datos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="quantmod.html"><a href="quantmod.html#que-hizo-la-funcion-getsymbols"><i class="fa fa-check"></i><b>2.2.1</b> ¿Qué hizo la función <code>getSymbols</code>?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="quantmod.html"><a href="quantmod.html#graficando-con-chartseries"><i class="fa fa-check"></i><b>2.3</b> Graficando con <code>chartSeries</code></a><ul>
<li class="chapter" data-level="2.3.1" data-path="quantmod.html"><a href="quantmod.html#chartseries"><i class="fa fa-check"></i><b>2.3.1</b> <code>chartSeries</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="quantmod.html"><a href="quantmod.html#graficando-con-ggplot2"><i class="fa fa-check"></i><b>2.4</b> Graficando con <code>ggplot2</code></a><ul>
<li class="chapter" data-level="2.4.1" data-path="quantmod.html"><a href="quantmod.html#breve-introduccion-a-ggplot2"><i class="fa fa-check"></i><b>2.4.1</b> Breve introducción a <code>ggplot2</code></a></li>
<li class="chapter" data-level="2.4.2" data-path="quantmod.html"><a href="quantmod.html#color-tamano-forma-y-otros-atributos-del-aesthetic"><i class="fa fa-check"></i><b>2.4.2</b> Color, tamaño, forma y otros atributos del <em>aesthetic</em></a></li>
<li class="chapter" data-level="2.4.3" data-path="quantmod.html"><a href="quantmod.html#sp-500-con-ggplot2"><i class="fa fa-check"></i><b>2.4.3</b> S&amp;P 500 con <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="quantmod.html"><a href="quantmod.html#multiples-datos"><i class="fa fa-check"></i><b>2.5</b> Multiples Datos</a><ul>
<li class="chapter" data-level="2.5.1" data-path="quantmod.html"><a href="quantmod.html#retornos"><i class="fa fa-check"></i><b>2.5.1</b> Retornos</a></li>
<li class="chapter" data-level="2.5.2" data-path="quantmod.html"><a href="quantmod.html#retornos-acumulados"><i class="fa fa-check"></i><b>2.5.2</b> Retornos Acumulados</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="quantmod.html"><a href="quantmod.html#estadistica-descriptiva"><i class="fa fa-check"></i><b>2.6</b> Estadística Descriptiva</a></li>
<li class="chapter" data-level="2.7" data-path="quantmod.html"><a href="quantmod.html#ratio-de-sharpe"><i class="fa fa-check"></i><b>2.7</b> Ratio de Sharpe</a></li>
<li class="chapter" data-level="2.8" data-path="quantmod.html"><a href="quantmod.html#test-de-jarquebera"><i class="fa fa-check"></i><b>2.8</b> Test de JarqueBera</a></li>
<li class="chapter" data-level="2.9" data-path="quantmod.html"><a href="quantmod.html#recursos-del-capitulo"><i class="fa fa-check"></i><b>2.9</b> Recursos del capítulo</a></li>
<li class="chapter" data-level="2.10" data-path="quantmod.html"><a href="quantmod.html#apendice"><i class="fa fa-check"></i><b>2.10</b> Apéndice</a><ul>
<li class="chapter" data-level="2.10.1" data-path="quantmod.html"><a href="quantmod.html#retorno-y-retorno-acumulado"><i class="fa fa-check"></i><b>2.10.1</b> Retorno y retorno acumulado</a></li>
<li class="chapter" data-level="2.10.2" data-path="quantmod.html"><a href="quantmod.html#graficar-retorno-acumulado"><i class="fa fa-check"></i><b>2.10.2</b> Graficar retorno acumulado</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="portafolio.html"><a href="portafolio.html"><i class="fa fa-check"></i><b>3</b> Introducción a teoría de portafolio</a><ul>
<li class="chapter" data-level="3.1" data-path="portafolio.html"><a href="portafolio.html#libreria-introcompfinr"><i class="fa fa-check"></i><b>3.1</b> Librería IntroCompFinR</a><ul>
<li class="chapter" data-level="3.1.1" data-path="portafolio.html"><a href="portafolio.html#funciones-utiles-de-introcompfinr"><i class="fa fa-check"></i><b>3.1.1</b> Funciones útiles de IntroCompFinR</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="portafolio.html"><a href="portafolio.html#cargando-la-libreria-y-la-base-de-datos"><i class="fa fa-check"></i><b>3.2</b> Cargando la librería y la base de datos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bonos.html"><a href="bonos.html"><i class="fa fa-check"></i><b>4</b> Renta Fija</a><ul>
<li class="chapter" data-level="4.1" data-path="bonos.html"><a href="bonos.html#precio-de-un-bono"><i class="fa fa-check"></i><b>4.1</b> Precio de un Bono</a></li>
<li class="chapter" data-level="4.2" data-path="bonos.html"><a href="bonos.html#dos-formas-de-hacer-lo-mismo"><i class="fa fa-check"></i><b>4.2</b> Dos formas de hacer lo mismo</a></li>
<li class="chapter" data-level="4.3" data-path="bonos.html"><a href="bonos.html#funciones"><i class="fa fa-check"></i><b>4.3</b> Funciones</a></li>
<li class="chapter" data-level="4.4" data-path="bonos.html"><a href="bonos.html#relacion-precio-del-bono-y-yield"><i class="fa fa-check"></i><b>4.4</b> Relación precio del Bono y Yield</a><ul>
<li class="chapter" data-level="4.4.1" data-path="bonos.html"><a href="bonos.html#valorizacion"><i class="fa fa-check"></i><b>4.4.1</b> Valorización</a></li>
<li class="chapter" data-level="4.4.2" data-path="bonos.html"><a href="bonos.html#construccion-yields"><i class="fa fa-check"></i><b>4.4.2</b> Construcción yields</a></li>
<li class="chapter" data-level="4.4.3" data-path="bonos.html"><a href="bonos.html#loops"><i class="fa fa-check"></i><b>4.4.3</b> Loops</a></li>
<li class="chapter" data-level="4.4.4" data-path="bonos.html"><a href="bonos.html#graficando"><i class="fa fa-check"></i><b>4.4.4</b> Graficando</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="bonos.html"><a href="bonos.html#trabajando-con-yields-reales"><i class="fa fa-check"></i><b>4.5</b> Trabajando con yields reales</a></li>
<li class="chapter" data-level="4.6" data-path="bonos.html"><a href="bonos.html#duracion-y-convexidad-de-un-bono"><i class="fa fa-check"></i><b>4.6</b> Duración y Convexidad de un Bono</a><ul>
<li class="chapter" data-level="4.6.1" data-path="bonos.html"><a href="bonos.html#extracion-de-la-yield"><i class="fa fa-check"></i><b>4.6.1</b> Extración de la yield</a></li>
<li class="chapter" data-level="4.6.2" data-path="bonos.html"><a href="bonos.html#duracion-bono-bullet-o-americano"><i class="fa fa-check"></i><b>4.6.2</b> Duración (Bono Bullet o Americano)</a></li>
<li class="chapter" data-level="4.6.3" data-path="bonos.html"><a href="bonos.html#duracion-con-libreria"><i class="fa fa-check"></i><b>4.6.3</b> Duración con librería</a></li>
<li class="chapter" data-level="4.6.4" data-path="bonos.html"><a href="bonos.html#convexidad"><i class="fa fa-check"></i><b>4.6.4</b> Convexidad</a></li>
<li class="chapter" data-level="4.6.5" data-path="bonos.html"><a href="bonos.html#convexidad-con-libreria"><i class="fa fa-check"></i><b>4.6.5</b> Convexidad con librería:</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="bonos.html"><a href="bonos.html#efecto-dolar"><i class="fa fa-check"></i><b>4.7</b> Efecto Dolar</a></li>
<li class="chapter" data-level="4.8" data-path="bonos.html"><a href="bonos.html#ejercicio"><i class="fa fa-check"></i><b>4.8</b> Ejercicio</a></li>
<li class="chapter" data-level="4.9" data-path="bonos.html"><a href="bonos.html#apendice-1"><i class="fa fa-check"></i><b>4.9</b> Apéndice</a><ul>
<li class="chapter" data-level="4.9.1" data-path="bonos.html"><a href="bonos.html#bono-frances"><i class="fa fa-check"></i><b>4.9.1</b> Bono Frances</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="bonos.html"><a href="bonos.html#recursos-del-capitulo-1"><i class="fa fa-check"></i><b>4.10</b> Recursos del capítulo</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="options.html"><a href="options.html"><i class="fa fa-check"></i><b>5</b> Opciones, Derivados y Futuros</a><ul>
<li class="chapter" data-level="5.1" data-path="options.html"><a href="options.html#call-put"><i class="fa fa-check"></i><b>5.1</b> Call &amp; Put</a><ul>
<li class="chapter" data-level="5.1.1" data-path="options.html"><a href="options.html#posicion-larga-en-call-payoff-profit"><i class="fa fa-check"></i><b>5.1.1</b> Posición Larga en Call: Payoff &amp; Profit</a></li>
<li class="chapter" data-level="5.1.2" data-path="options.html"><a href="options.html#posicion-larga-en-put-payoff-profit"><i class="fa fa-check"></i><b>5.1.2</b> Posición larga en put: Payoff &amp; Profit</a></li>
<li class="chapter" data-level="5.1.3" data-path="options.html"><a href="options.html#posicion-corta-en-call-payoff-profit"><i class="fa fa-check"></i><b>5.1.3</b> Posición corta en call: Payoff &amp; Profit</a></li>
<li class="chapter" data-level="5.1.4" data-path="options.html"><a href="options.html#posicion-corta-en-put-payoff-profit"><i class="fa fa-check"></i><b>5.1.4</b> Posición corta en put: Payoff &amp; Profit</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="options.html"><a href="options.html#estrategias"><i class="fa fa-check"></i><b>5.2</b> Estrategias</a><ul>
<li class="chapter" data-level="5.2.1" data-path="options.html"><a href="options.html#bull-spread-utilidades"><i class="fa fa-check"></i><b>5.2.1</b> Bull Spread Utilidades</a></li>
<li class="chapter" data-level="5.2.2" data-path="options.html"><a href="options.html#funcion-bull-spread"><i class="fa fa-check"></i><b>5.2.2</b> Función Bull Spread</a></li>
<li class="chapter" data-level="5.2.3" data-path="options.html"><a href="options.html#posicion-call-larga-corta-para-el-bull-spread-call"><i class="fa fa-check"></i><b>5.2.3</b> Posición call Larga &amp; Corta Para el Bull Spread Call</a></li>
<li class="chapter" data-level="5.2.4" data-path="options.html"><a href="options.html#construccion-de-la-bull-spread-call"><i class="fa fa-check"></i><b>5.2.4</b> Construcción de la Bull Spread Call</a></li>
<li class="chapter" data-level="5.2.5" data-path="options.html"><a href="options.html#grafico-bull-spread-call"><i class="fa fa-check"></i><b>5.2.5</b> Gráfico Bull Spread Call</a></li>
<li class="chapter" data-level="5.2.6" data-path="options.html"><a href="options.html#con-libreria-la-bull-spread-call"><i class="fa fa-check"></i><b>5.2.6</b> Con librería la Bull Spread Call</a></li>
<li class="chapter" data-level="5.2.7" data-path="options.html"><a href="options.html#con-libreria-el-grafico-bull-spread-call"><i class="fa fa-check"></i><b>5.2.7</b> Con librería El gráfico Bull Spread Call</a></li>
<li class="chapter" data-level="5.2.8" data-path="options.html"><a href="options.html#payoff-inferior-bull-spread-call-de-la-libreria"><i class="fa fa-check"></i><b>5.2.8</b> Payoff inferior Bull Spread Call de la Librería</a></li>
<li class="chapter" data-level="5.2.9" data-path="options.html"><a href="options.html#payoff-superior-bull-spread-call-de-la-libreria"><i class="fa fa-check"></i><b>5.2.9</b> Payoff superior Bull Spread Call de la Librería</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="options.html"><a href="options.html#black-scholes"><i class="fa fa-check"></i><b>5.3</b> Black &amp; Scholes</a><ul>
<li class="chapter" data-level="5.3.1" data-path="options.html"><a href="options.html#black-scholes-de-la-formula-a-una-funcion"><i class="fa fa-check"></i><b>5.3.1</b> Black &amp; Scholes: de la formula a una función</a></li>
<li class="chapter" data-level="5.3.2" data-path="options.html"><a href="options.html#black-scholes-ejercicio"><i class="fa fa-check"></i><b>5.3.2</b> Black &amp; Scholes: Ejercicio</a></li>
<li class="chapter" data-level="5.3.3" data-path="options.html"><a href="options.html#black-scholes-funcion"><i class="fa fa-check"></i><b>5.3.3</b> Black &amp; Scholes: Función</a></li>
<li class="chapter" data-level="5.3.4" data-path="options.html"><a href="options.html#black-scholes-ahora-con-librerias"><i class="fa fa-check"></i><b>5.3.4</b> Black &amp; Scholes: Ahora con librerías</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="options.html"><a href="options.html#black-scholes-con-datos-reales"><i class="fa fa-check"></i><b>5.4</b> Black &amp; Scholes con Datos Reales</a><ul>
<li class="chapter" data-level="5.4.1" data-path="options.html"><a href="options.html#black-scholes-con-datos-reales-pasos"><i class="fa fa-check"></i><b>5.4.1</b> Black &amp; Scholes con Datos Reales: Pasos</a></li>
<li class="chapter" data-level="5.4.2" data-path="options.html"><a href="options.html#parte-a"><i class="fa fa-check"></i><b>5.4.2</b> Parte a</a></li>
<li class="chapter" data-level="5.4.3" data-path="options.html"><a href="options.html#parte-b"><i class="fa fa-check"></i><b>5.4.3</b> Parte b</a></li>
<li class="chapter" data-level="5.4.4" data-path="options.html"><a href="options.html#parte-c-y-d"><i class="fa fa-check"></i><b>5.4.4</b> Parte c y d</a></li>
<li class="chapter" data-level="5.4.5" data-path="options.html"><a href="options.html#parte-e"><i class="fa fa-check"></i><b>5.4.5</b> Parte e</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="options.html"><a href="options.html#arbol-binomial"><i class="fa fa-check"></i><b>5.5</b> Árbol Binomial</a><ul>
<li class="chapter" data-level="5.5.1" data-path="options.html"><a href="options.html#ejercicio-1"><i class="fa fa-check"></i><b>5.5.1</b> Ejercicio</a></li>
<li class="chapter" data-level="5.5.2" data-path="options.html"><a href="options.html#call-europea"><i class="fa fa-check"></i><b>5.5.2</b> Call europea</a></li>
<li class="chapter" data-level="5.5.3" data-path="options.html"><a href="options.html#call-europea-grafico"><i class="fa fa-check"></i><b>5.5.3</b> Call europea gráfico</a></li>
<li class="chapter" data-level="5.5.4" data-path="options.html"><a href="options.html#call-americana"><i class="fa fa-check"></i><b>5.5.4</b> Call americana</a></li>
<li class="chapter" data-level="5.5.5" data-path="options.html"><a href="options.html#call-americana-grafico"><i class="fa fa-check"></i><b>5.5.5</b> Call americana gráfico</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a las finanzas quantitativas</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="quantmod" class="section level1">
<h1><span class="header-section-number">Capítulo 2</span> Quantmod</h1>
<blockquote>
<p>IMPORTATE: Aún no está del todo listo el formato en pdf, por lo que recomiendo verlo online.</p>
</blockquote>
<p>El paquete quantmod para R esta diseñado para la asistencia quantitativa de los traders en el desarrollo de sus estrategias y modelos financieros.</p>
<div id="que-es-quantmod" class="section level2">
<h2><span class="header-section-number">2.1</span> ¿Que es quantmod?</h2>
<p>Un entorno rápido, donde los operadores cuantitativos pueden explorar y construir modelos de negociación rápida y limpiamente. A través de la función getSymbols podemos extraer datos financieros desde varias fuentes: Google Finance, Yahoo Finance, Federal Reserve Bank of St. Louis FRED (más de 11,000 series !!!) y Oanda. Incluso desde fuentes propias: MySQL , R (Rdata) y Comma Separated Value files (csv).</p>
<p>No es el paquete definitivo dado que se complementa con otros, tales como: TTR, zoo y xts. En lo que respecta al análisis técnico son las más usadas en el mercado y usan todas las propiedades que hacen al lenguaje R útil para realizar análisis de datos<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>.</p>
</div>
<div id="obtencion-de-datos" class="section level2">
<h2><span class="header-section-number">2.2</span> Obtención de Datos</h2>
<p>Para comenzar, como todo paquete en R se debe instalar</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Instalación package</span>
<span class="kw">install.packages</span>(<span class="st">&quot;quantmod&quot;</span>)</code></pre>
<p>Una vez que esté instalado, creamos nuestro script usando <code>ctrl/cmd + shift + n</code> y lo “llamamos” con</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Cargamos &quot;quantmod&quot;</span>
<span class="kw">library</span>(<span class="st">&quot;quantmod&quot;</span>)</code></pre>
<blockquote>
<p>HINT: con <code>ctrl + R</code> en windows/Linux y <code>cmd + R</code> en MAC OS agregamos más rapido comentarios
(sección) en Rstudio.</p>
</blockquote>
<p><strong>quantmod</strong> provee una función para descargar datos desde fuentes externas. Esta función se llama <code>getSymbols</code>, para mayor información escribir en la linea de comandos <code>?getSymbols</code><a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>. Por defecto, se crea un objeto en el workspace (<em>Global Environment</em>) con el nombre del ticker/nemotécnico seleccionado. Imaginemos por un momento que necesitamos analizar el S&amp;P 500 desde el 2010 hasta la fecha con periocidad diaria. Lo primero que debemos hacer es pensar desde que fuente vamos a descargar los datos, como es un índice accionario se recomienda usar <em>yahoo finance</em>, luego buscar el nemotécnico, en este caso es “^GSPC”.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getSymbols</span>(<span class="st">&quot;^GSPC&quot;</span>, <span class="dt">src =</span> <span class="st">&quot;yahoo&quot;</span>, <span class="dt">from =</span> <span class="st">&quot;2010-01-01&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2010-07-30&quot;</span>, <span class="dt">periodicity =</span> <span class="st">&quot;daily&quot;</span>)</code></pre>
<pre><code>## [1] &quot;^GSPC&quot;</code></pre>
<div id="que-hizo-la-funcion-getsymbols" class="section level3">
<h3><span class="header-section-number">2.2.1</span> ¿Qué hizo la función <code>getSymbols</code>?</h3>
<p>La función <code>getSymbols</code> se construye basicamente de cinco opciones<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>:</p>
<ol style="list-style-type: decimal">
<li>El ticker/nemotécnico, eg. ^GSPC.</li>
<li><code>src</code>, que es la abreviación de “source”, eg. yahoo, FRED…</li>
<li><code>from</code>, es el inicio de la fecha a descargar, tener presente que se incluye la fecha en nuestros datos.</li>
<li><code>to</code>, es el final del periodo para los datos, este no se incluye.</li>
<li><code>periodicity</code>, es la periodicidad de los datos, eg. daily, monthly o yearly, solo algunos datos se ajustan a las tres periodicidades.</li>
</ol>
<p>En el ejemplo anterior se descargo desde yahoo los datos del S&amp;P 500 desde Enero del 2010 hasta el viernes 27 de Julio del 2018 con periodicidad diaria, construyendo un objeto en formato <strong>xts</strong> cuyo nombre es GSPC.</p>
<div id="htmlwidget-ab1db2f468968bdfd4e2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ab1db2f468968bdfd4e2">{"x":{"filter":"none","data":[[1116.560059,1132.660034,1135.709961,1136.27002,1140.52002,1145.959961,1143.810059,1137.310059,1145.680054,1147.719971,1136.030029,1147.949951,1138.680054,1115.48999,1092.400024,1095.800049,1091.939941,1096.930054,1087.609985,1073.890015,1090.050049,1100.670044,1097.25,1064.119995,1065.51001,1060.060059,1069.680054,1067.099976,1075.949951,1079.130005,1096.140015,1099.030029,1105.48999,1110,1107.48999,1095.890015,1101.23999,1103.099976,1105.359985,1117.01001,1119.359985,1119.119995,1125.119995,1138.400024,1137.560059,1140.219971,1143.959961,1151.709961,1148.530029,1150.829956,1159.939941,1166.130005,1166.680054,1157.25,1166.469971,1172.699951,1170.030029,1167.579956,1167.709961,1173.75,1171.75,1171.22998,1178.709961,1186.01001,1188.22998,1181.75,1187.469971,1194.939941,1195.939941,1198.689941,1210.77002,1210.170044,1192.060059,1199.040039,1207.160034,1202.52002,1207.869995,1217.069946,1209.920044,1184.589966,1193.300049,1206.77002,1188.579956,1197.5,1169.23999,1164.380005,1127.040039,1122.27002,1156.390015,1155.430054,1170.040039,1157.189941,1136.52002,1138.780029,1119.569946,1107.339966,1067.26001,1084.780029,1067.420044,1075.51001,1074.27002,1102.589966,1087.300049,1073.01001,1098.819946,1098.430054,1065.839966,1050.810059,1062.75,1058.77002,1082.650024,1095,1091.209961,1114.02002,1115.97998,1116.160034,1122.790039,1113.900024,1095.569946,1090.930054,1075.099976,1077.5,1071.099976,1040.560059,1031.099976,1027.650024,1028.089966,1028.540039,1062.920044,1070.5,1077.22998,1080.650024,1095.609985,1094.459961,1093.849976,1066.849976,1064.530029,1086.670044,1072.140015,1092.170044,1102.890015,1117.359985,1112.839966,1108.069946],[1133.869995,1136.630005,1139.189941,1142.459961,1145.390015,1149.73999,1143.810059,1148.400024,1150.410034,1147.77002,1150.449951,1147.949951,1141.579956,1115.48999,1102.969971,1103.689941,1099.51001,1100.219971,1096.449951,1089.380005,1104.72998,1102.719971,1097.25,1067.130005,1071.199951,1079.280029,1073.670044,1080.040039,1077.810059,1095.670044,1101.030029,1108.23999,1112.420044,1112.290039,1108.579956,1106.420044,1103.5,1107.23999,1116.109985,1123.459961,1125.640015,1123.72998,1139.380005,1141.050049,1145.369995,1148.26001,1150.23999,1153.410034,1150.97998,1160.280029,1169.839966,1167.77002,1169.199951,1167.819946,1174.719971,1173.040039,1180.689941,1173.930054,1174.849976,1177.829956,1174.560059,1181.430054,1187.72998,1191.800049,1189.599976,1188.550049,1194.660034,1199.199951,1199.040039,1210.650024,1213.920044,1210.170044,1197.869995,1208.579956,1210.98999,1210.27002,1217.280029,1219.800049,1211.380005,1195.050049,1209.359985,1207.98999,1205.130005,1197.5,1175.949951,1167.579956,1135.130005,1163.849976,1170.47998,1172.869995,1173.569946,1157.189941,1141.880005,1148.660034,1124.27002,1107.339966,1090.160034,1089.949951,1074.75,1090.75,1103.52002,1102.589966,1094.77002,1098.560059,1105.670044,1098.430054,1071.359985,1063.150024,1077.73999,1087.849976,1092.25,1105.910034,1115.589966,1118.73999,1117.719971,1121.01001,1131.22998,1118.5,1099.640015,1090.930054,1083.560059,1082.599976,1071.099976,1048.079956,1033.579956,1032.949951,1042.5,1060.890015,1071.25,1078.160034,1080.780029,1099.459961,1099.079956,1098.660034,1093.849976,1074.699951,1083.939941,1088.959961,1097.5,1103.72998,1115.01001,1120.949951,1114.660034,1115.900024],[1116.560059,1129.660034,1133.949951,1131.319946,1136.219971,1142.02002,1131.77002,1133.180054,1143.800049,1131.390015,1135.77002,1129.25,1114.839966,1090.180054,1092.400024,1089.859985,1083.109985,1078.459961,1071.589966,1073.890015,1087.959961,1093.969971,1062.780029,1044.5,1056.51001,1060.060059,1059.339966,1060.589966,1062.969971,1079.130005,1094.719971,1097.47998,1100.800049,1105.380005,1092.180054,1095.5,1086.02002,1097.560059,1105.359985,1116.51001,1116.579956,1116.660034,1125.119995,1136.77002,1134.900024,1140.089966,1138.98999,1146.969971,1141.449951,1150.349976,1159.939941,1161.160034,1155.329956,1152.880005,1163.829956,1166.01001,1165.089966,1161.47998,1167.709961,1168.920044,1165.77002,1170.689941,1178.709961,1182.77002,1177.25,1175.119995,1187.150024,1194.709961,1188.819946,1198.689941,1208.5,1186.77002,1183.680054,1199.040039,1198.849976,1190.189941,1205.099976,1211.069946,1181.619995,1181.810059,1193.300049,1186.319946,1188.579956,1168.119995,1158.150024,1065.790039,1094.150024,1122.27002,1147.709961,1155.430054,1156.140015,1126.140015,1114.959961,1117.199951,1100.660034,1071.579956,1055.900024,1072.699951,1040.780029,1065.589966,1074.27002,1084.780029,1069.890015,1072.030029,1091.810059,1060.5,1049.859985,1042.170044,1052.25,1058.77002,1077.119995,1089.030029,1091.209961,1107.130005,1105.869995,1113.930054,1108.23999,1094.180054,1085.310059,1071.599976,1067.890015,1071.449951,1035.180054,1028.329956,1010.909973,1015.929993,1018.349976,1028.540039,1058.23999,1068.099976,1070.449951,1080.650024,1087.680054,1080.530029,1063.319946,1061.109985,1056.880005,1065.25,1072.140015,1087.880005,1101.300049,1109.780029,1103.109985,1092.819946],[1132.98999,1136.52002,1137.140015,1141.689941,1144.97998,1146.97998,1136.219971,1145.680054,1148.459961,1136.030029,1150.22998,1138.040039,1116.47998,1091.76001,1096.780029,1092.170044,1097.5,1084.530029,1073.869995,1089.189941,1103.319946,1097.280029,1063.109985,1066.189941,1056.73999,1070.52002,1068.130005,1078.469971,1075.51001,1094.869995,1099.51001,1106.75,1109.170044,1108.01001,1094.599976,1105.23999,1102.939941,1104.48999,1115.709961,1118.310059,1118.790039,1122.969971,1138.699951,1138.5,1140.449951,1145.609985,1150.23999,1149.98999,1150.51001,1159.459961,1166.209961,1165.829956,1159.900024,1165.810059,1174.170044,1167.719971,1165.72998,1166.589966,1173.219971,1173.27002,1169.430054,1178.099976,1187.439941,1189.439941,1182.449951,1186.439941,1194.369995,1196.47998,1197.300049,1210.650024,1211.670044,1192.130005,1197.52002,1207.170044,1205.939941,1208.670044,1217.280029,1212.050049,1183.709961,1191.359985,1206.780029,1186.689941,1202.26001,1173.599976,1165.869995,1128.150024,1110.880005,1159.72998,1155.790039,1171.670044,1157.439941,1135.680054,1136.939941,1120.800049,1115.050049,1071.589966,1087.689941,1073.650024,1074.030029,1067.949951,1103.060059,1089.410034,1070.709961,1098.380005,1102.829956,1064.880005,1050.469971,1062,1055.689941,1086.839966,1091.599976,1089.630005,1115.22998,1114.609985,1116.040039,1117.51001,1113.199951,1095.310059,1092.040039,1073.689941,1076.76001,1074.569946,1041.23999,1030.709961,1027.369995,1022.580017,1028.060059,1060.27002,1070.25,1077.959961,1078.75,1095.339966,1095.170044,1096.47998,1064.880005,1071.25,1083.47998,1069.589966,1093.670044,1102.660034,1115.01001,1113.839966,1106.130005,1101.530029],[3991400000,2491020000,4972660000,5270680000,4389590000,4255780000,4716160000,4170360000,3915200000,4758730000,4724830000,4810560000,6874290000,6208650000,4481390000,4731910000,5319120000,5452400000,5412850000,4077610000,4749540000,4285450000,5859690000,6438900000,4089820000,5114260000,4251450000,4400870000,4160680000,4080770000,4259230000,3878620000,3944280000,3814440000,4521050000,4168360000,4521130000,3945190000,3847640000,4134680000,3951320000,3945010000,4133000000,3774680000,5185570000,5469120000,4669060000,4928160000,4164110000,4369770000,4963200000,4234510000,5212410000,4261680000,4411640000,4705750000,5668900000,4708420000,4375580000,4085000000,4484340000,4006870000,3881620000,4086180000,5101430000,4726970000,4511570000,4607090000,5403580000,5760040000,5995330000,8108470000,6597740000,5316590000,5724310000,6035780000,5326060000,5647760000,7454540000,6342310000,6059410000,6048260000,4938050000,6594720000,6795940000,10617810000,9472910000,6893700000,5842550000,5225460000,4870640000,6126400000,5922920000,6170840000,6765800000,8328570000,5452130000,5224040000,7329580000,4521050000,5698460000,4871210000,5271480000,5026360000,4995970000,6180580000,5467560000,6192750000,5983200000,5144780000,4059280000,4425830000,4644490000,5002600000,4557760000,4555360000,4514360000,4514380000,4526150000,4814830000,5128840000,3896410000,6136700000,5067080000,6435770000,3968500000,4691240000,4931220000,4548460000,3506570000,3426990000,4640460000,4521050000,4552470000,5297350000,4089500000,4713280000,4747180000,4826900000,4524570000,4009650000,4725690000,4002390000,4612420000],[1132.98999,1136.52002,1137.140015,1141.689941,1144.97998,1146.97998,1136.219971,1145.680054,1148.459961,1136.030029,1150.22998,1138.040039,1116.47998,1091.76001,1096.780029,1092.170044,1097.5,1084.530029,1073.869995,1089.189941,1103.319946,1097.280029,1063.109985,1066.189941,1056.73999,1070.52002,1068.130005,1078.469971,1075.51001,1094.869995,1099.51001,1106.75,1109.170044,1108.01001,1094.599976,1105.23999,1102.939941,1104.48999,1115.709961,1118.310059,1118.790039,1122.969971,1138.699951,1138.5,1140.449951,1145.609985,1150.23999,1149.98999,1150.51001,1159.459961,1166.209961,1165.829956,1159.900024,1165.810059,1174.170044,1167.719971,1165.72998,1166.589966,1173.219971,1173.27002,1169.430054,1178.099976,1187.439941,1189.439941,1182.449951,1186.439941,1194.369995,1196.47998,1197.300049,1210.650024,1211.670044,1192.130005,1197.52002,1207.170044,1205.939941,1208.670044,1217.280029,1212.050049,1183.709961,1191.359985,1206.780029,1186.689941,1202.26001,1173.599976,1165.869995,1128.150024,1110.880005,1159.72998,1155.790039,1171.670044,1157.439941,1135.680054,1136.939941,1120.800049,1115.050049,1071.589966,1087.689941,1073.650024,1074.030029,1067.949951,1103.060059,1089.410034,1070.709961,1098.380005,1102.829956,1064.880005,1050.469971,1062,1055.689941,1086.839966,1091.599976,1089.630005,1115.22998,1114.609985,1116.040039,1117.51001,1113.199951,1095.310059,1092.040039,1073.689941,1076.76001,1074.569946,1041.23999,1030.709961,1027.369995,1022.580017,1028.060059,1060.27002,1070.25,1077.959961,1078.75,1095.339966,1095.170044,1096.47998,1064.880005,1071.25,1083.47998,1069.589966,1093.670044,1102.660034,1115.01001,1113.839966,1106.130005,1101.530029]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>GSPC.Open<\/th>\n      <th>GSPC.High<\/th>\n      <th>GSPC.Low<\/th>\n      <th>GSPC.Close<\/th>\n      <th>GSPC.Volume<\/th>\n      <th>GSPC.Adjusted<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4,5]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="graficando-con-chartseries" class="section level2">
<h2><span class="header-section-number">2.3</span> Graficando con <code>chartSeries</code></h2>
<p>Aún no introducimos la librería <code>ggplot2</code>, sin embargo, <code>quantmod</code> también nos permite graficar.</p>
<div id="chartseries" class="section level3">
<h3><span class="header-section-number">2.3.1</span> <code>chartSeries</code></h3>
<p>Para graficar basta con escribir el nombre del objeto con clase (<code>class</code>) xts, en nuestro caso es <code>GSPC</code> que representa al Standard and Poor 500. Si escribimos <code>TA = NULL</code>, <code>charSeries</code> no mostrará el volume<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chartSeries</span>(GSPC, <span class="dt">TA=</span><span class="ot">NULL</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-12"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-12-1.png" alt="Gráfico con chartSeries con TA = NULL" width="75%" />
<p class="caption">
Figure 2.1: Gráfico con chartSeries con TA = NULL
</p>
</div>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chartSeries</span>(GSPC, <span class="dt">TA=</span><span class="ot">NULL</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-13"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-13-1.png" alt="Gráfico con chartSeries sin TA = NULL" width="75%" />
<p class="caption">
Figure 2.2: Gráfico con chartSeries sin TA = NULL
</p>
</div>
<p>Pero cuando las series son muy largas, podemos ver tendencias pero dificulta ver cambios
importantes a nivel de análisis técnico.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chartSeries</span>(GSPC, <span class="dt">subset =</span> <span class="st">&quot;last 3 months&quot;</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-14"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-14-1.png" alt="Los últimos 3 meses de GSPC" width="75%" />
<p class="caption">
Figure 2.3: Los últimos 3 meses de GSPC
</p>
</div>
<p>Con el código anterior nos enfocamos solo en los tres meses anteriores.</p>
</div>
</div>
<div id="graficando-con-ggplot2" class="section level2">
<h2><span class="header-section-number">2.4</span> Graficando con <code>ggplot2</code></h2>
<p>Si bien <code>chartSeries</code> es una alternativa a <code>plot</code> o <code>plotly</code>, este no nos permite realizar gráficos que se adapten a nuestras necesidades. ¿Qué pasa si queremos graficar retornos o retornos acumulados? la opción por exelencia es <code>ggplot2</code>.</p>
<div id="breve-introduccion-a-ggplot2" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Breve introducción a <code>ggplot2</code></h3>
<p>Todo ggplot2 plot tiene tres componentes:</p>
<ol style="list-style-type: decimal">
<li>Datos</li>
<li>Un conjunto de aesthetic mappings entre variables y propiedades de visualización.</li>
<li>Al menos una layer que describe la observación, son usualmente creadas con la función geom_*</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)</code></pre>
<p>A continuación usaremos la base que viene pre cargada con R cuando lo instalamos, que es <code>cars</code><a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(<span class="dt">x =</span> displ, <span class="dt">y =</span> hwy)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-16"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-16-1.png" alt="Ejemplo 1 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.4: Ejemplo 1 usando ggplot2
</p>
</div>
<p>Esto produce el scatterplot definido como:</p>
<ol style="list-style-type: decimal">
<li>Datos: mpg</li>
<li>Aesthetic mapping: tamaño del motor en la posición x, gasolina en la posición y.</li>
<li>Layer: puntos.</li>
</ol>
</div>
<div id="color-tamano-forma-y-otros-atributos-del-aesthetic" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Color, tamaño, forma y otros atributos del <em>aesthetic</em></h3>
<p>Se debe usar otro aesthetics como <code>colour</code>, <code>shape</code> y <code>size</code> (ggplot acepta los nombres americanos como británicos)</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(displ, cty, <span class="dt">colour =</span> class)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() </code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-17"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-17-1.png" alt="Ejemplo 2 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.5: Ejemplo 2 usando ggplot2
</p>
</div>
<ul>
<li>Como se puede ver, se creo una guía con los valores, leyenda, así podemos “leer” el gráfico.</li>
<li>Si se quiere aesthetic para valores fijos, sin scaling:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(displ, hwy)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>))</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-181"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-18-1.png" alt="Ejemplo 3 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.6: Ejemplo 3 usando ggplot2
</p>
</div>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(mpg, <span class="kw">aes</span>(displ, hwy)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-182"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-18-2.png" alt="Ejemplo 3 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.7: Ejemplo 3 usando ggplot2
</p>
</div>
<p>Ejercicios:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">aes</span>(displ, hwy, <span class="dt">colour =</span> class)
<span class="kw">aes</span>(displ, hwy, <span class="dt">shape =</span> drv)
<span class="kw">aes</span>(displ, hwy, <span class="dt">size =</span> cyl)</code></pre>
<ul>
<li>Se recomienda usar <code>colour</code> y <code>shape</code> con variables categóricas.<br />
</li>
<li>Mientras que size funciona bien con variables continuas.</li>
</ul>
</div>
<div id="sp-500-con-ggplot2" class="section level3">
<h3><span class="header-section-number">2.4.3</span> S&amp;P 500 con <code>ggplot2</code></h3>
<pre class="sourceCode r"><code class="sourceCode r">gspc &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(GSPC)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">g1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(gspc) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="kw">index</span>(gspc),GSPC.Adjusted))
g1 &lt;-<span class="st"> </span>g1 <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;S&amp;P 500&quot;</span>, <span class="dt">subtitle =</span> <span class="st">&quot;Desde Enero 2010 a 2018&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Fecha&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>)
g1 &lt;-<span class="st"> </span>g1 <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()
g1</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-20"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-20-1.png" alt="Standard and Poor 500 usando ggplot2" width="75%" />
<p class="caption">
Figure 2.8: Standard and Poor 500 usando ggplot2
</p>
</div>
</div>
</div>
<div id="multiples-datos" class="section level2">
<h2><span class="header-section-number">2.5</span> Multiples Datos</h2>
<p>A continuación trabajaremos con las acciones de Oracle, Nvidia, IBM y AMD, comenzamos con crear un objeto con los nombres de los tickers</p>
<pre class="sourceCode r"><code class="sourceCode r">tickers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ORCL&quot;</span>,<span class="st">&quot;AMD&quot;</span>,<span class="st">&quot;IBM&quot;</span>,<span class="st">&quot;NVDA&quot;</span>)</code></pre>
<p>descargamos los datos con las características requeridas, que son las mismas que usamos anteriormente con S&amp;P 500</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getSymbols</span>(tickers, <span class="dt">src =</span> <span class="st">&quot;yahoo&quot;</span>, <span class="dt">from =</span> <span class="st">&quot;2010-01-01&quot;</span>, <span class="dt">to =</span> <span class="st">&quot;2018-07-30&quot;</span>, <span class="dt">periodicity =</span> <span class="st">&quot;daily&quot;</span>)</code></pre>
<pre><code>## [1] &quot;ORCL&quot; &quot;AMD&quot;  &quot;IBM&quot;  &quot;NVDA&quot;</code></pre>
<p>Acá deben tener mucha atención:</p>
<pre class="sourceCode r"><code class="sourceCode r">list &lt;-<span class="st"> </span><span class="kw">lapply</span>(tickers, <span class="cf">function</span>(x) <span class="kw">Cl</span>(<span class="kw">get</span>(x)))
precio.cierre &lt;-<span class="st"> </span><span class="kw">do.call</span>(merge,list)</code></pre>
<div id="retornos" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Retornos</h3>
<p>La formula para calcular (log) retornos es</p>
<p><span class="math display">\[
r_t = log(1 + R_t) = log(\frac{P_t}{P_{t-1}}) = p_t - p_{t-1}
\]</span>
donde <span class="math inline">\(p_t = log(P_t)\)</span> es llamado “log price”.</p>
<p>Ahora pasamos a construir el retorno.</p>
<pre class="sourceCode r"><code class="sourceCode r">retornos &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">apply</span>(precio.cierre, <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="kw">Delt</span>(x, <span class="dt">type =</span> <span class="st">&quot;log&quot;</span>)),
                       <span class="dt">fecha =</span> <span class="kw">index</span>(precio.cierre)) <span class="op">%&gt;%</span>
<span class="st">            </span><span class="kw">rename</span>(<span class="dt">orcl =</span> ORCL.Close, <span class="dt">amd =</span> AMD.Close, <span class="dt">ibm =</span> IBM.Close, <span class="dt">nvda =</span> NVDA.Close) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">            </span><span class="kw">na.omit</span>() </code></pre>
</div>
<div id="retornos-acumulados" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Retornos Acumulados</h3>
<p>Si graficamos los retornos no será muy descriptivo, una forma es trabajar con su acumulado. Con la misma lógica usamos la función <code>cumsum()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">acumulados &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">apply</span>(retornos[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="kw">cumsum</span>(x)), <span class="dt">fecha =</span> <span class="kw">index</span>(precio.cierre[<span class="op">-</span><span class="dv">1</span>]))</code></pre>
<div id="grafico-retornos-acumulados" class="section level4">
<h4><span class="header-section-number">2.5.2.1</span> Gráfico retornos acumulados</h4>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;reshape2&quot;</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">reshape &lt;-<span class="st"> </span><span class="kw">melt</span>(acumulados, <span class="dt">id.vars =</span> <span class="st">&quot;fecha&quot;</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">g2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(reshape) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(fecha,value, <span class="dt">color =</span> variable))
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Retornos Acumulados&quot;</span>, <span class="dt">subtitle =</span> <span class="st">&quot;Oracle, AMD, IBM y Nvidia&quot;</span>)
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">xlab</span>(<span class="st">&quot;Fecha&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Retornos Acumulados&quot;</span>)
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">scale_color_manual</span>(<span class="st">&quot;Tickers&quot;</span>, <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;orange&quot;</span>))
g2 &lt;-<span class="st"> </span>g2 <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)
g2</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-28"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-28-1.png" alt="Retornos Acumulados de los tickers" width="75%" />
<p class="caption">
Figure 2.9: Retornos Acumulados de los tickers
</p>
</div>
</div>
</div>
</div>
<div id="estadistica-descriptiva" class="section level2">
<h2><span class="header-section-number">2.6</span> Estadística Descriptiva</h2>
<p>Existe muchas formas de obtener la estadística descriptiva en R, un librería es <code>fBasics</code>, la que a su vez contiene test de normalidad.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;fBasics&quot;</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">summary &lt;-<span class="st"> </span><span class="kw">basicStats</span>(retornos[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>])[<span class="kw">c</span>(<span class="st">&quot;Mean&quot;</span>, <span class="st">&quot;Stdev&quot;</span>, <span class="st">&quot;Median&quot;</span>, <span class="st">&quot;Minimum&quot;</span>, <span class="st">&quot;Variance&quot;</span>,
                                       <span class="st">&quot;Maximum&quot;</span>, <span class="st">&quot;nobs&quot;</span>,<span class="st">&quot;Skewness&quot;</span>,<span class="st">&quot;Kurtosis&quot;</span>),]</code></pre>
</div>
<div id="ratio-de-sharpe" class="section level2">
<h2><span class="header-section-number">2.7</span> Ratio de Sharpe</h2>
<p>EL ratio de Sharpe es una medida de desempeño para portafolios, el que se define como</p>
<p><span class="math display">\[
SR = \frac{E(R_i) - r_f}{\sigma_i}
\]</span></p>
<p>Donde <span class="math inline">\(E(R_i) = \mu_i\)</span> es el retorno del portafolio <span class="math inline">\(i\)</span>, <span class="math inline">\(r_f\)</span> la tasa libre de riesgo y <span class="math inline">\(\sigma_i\)</span> la desviaciòn estandar del portafolio <span class="math inline">\(i\)</span>. Si asumimos como ejercicio que no diversificamos y “construimos” cuatro portafolios con el 100% es invertido en cada uno de los activos.</p>
<p>Para realizar el cálculo del ratio de Sharpe (SR) para Oracle</p>
<pre class="sourceCode r"><code class="sourceCode r">SR_orcl &lt;-<span class="st"> </span>(<span class="kw">mean</span>(retornos<span class="op">$</span>orcl) <span class="op">-</span><span class="st"> </span><span class="fl">0.0000</span> )<span class="op">/</span><span class="kw">sd</span>(retornos<span class="op">$</span>orcl)</code></pre>
<p>con <code>mean(retornos$orcl)</code> vamos a obtener el promedio de la primera columna del objeto <code>retornos</code> que es Oracle (en el <code>data.frame</code> la columna se llama orcl, si tuviese otro nombre como por ejemplo <code>perrito</code>, entonces hubiese sido <code>mean(retornos$perrito)</code>), si quisieramos AMD debería ser <code>amd</code> y asì sucesivamente. El 0.0000 sería la tasa libre de riesgo que la asumimos mensual y <code>sd(retornos[1])</code> nos calcula la desviación estandar. Dado que poseemos 4 activos con sus respectivos retornos, deberiamos construir cuatro objetos que partan con <code>SR</code>.</p>
</div>
<div id="test-de-jarquebera" class="section level2">
<h2><span class="header-section-number">2.8</span> Test de JarqueBera</h2>
<p>El test de jarque-bera usa los coeficientes de la <em>skewness</em> y <em>kurtosis</em> de la muestra y se usa para testar normalidad. Otros test comunes son el de Anderson–Darling, Cramér–von Mises, y Kolmogorov–Smirnov.</p>
<p>En resumen compara que la <em>skewness</em> sea 0 y la <em>kurtosis</em> sea 3 bajo normalidad.</p>
<p><span class="math display">\[
JB = n{\widehat{Sk}^2 /6 + (\widehat{KUr} - 3)^2 /24}
\]</span></p>
<p>El test se encuentra en varias librerías, una de ellas es <code>fBasics</code> que deberíamos tener instalada y cargada. Para obtener los resultados del test para Oracle</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">jarqueberaTest</span>(retornos<span class="op">$</span>orcl)</code></pre>
<p>Para los demàs activos hay que solo cambiar por el nombre de la columna correspondiente.</p>
</div>
<div id="recursos-del-capitulo" class="section level2">
<h2><span class="header-section-number">2.9</span> Recursos del capítulo</h2>
<p><a href="https://www.dropbox.com/s/mie1ap3hbil8p2i/beamer_t1.pdf?dl=1">Presentación</a></p>
</div>
<div id="apendice" class="section level2">
<h2><span class="header-section-number">2.10</span> Apéndice</h2>
<p>Existe más de una forma de calcular los retornos y retornos acumulados. A
continuación cargaremos una base que contiene los precios al cierre desde
Enero del 2013 hasta Diciembre del 2018 con periodicidad mensual de las
siguientes empresas tecnológicas:</p>
<ul>
<li>Facebook (FB)</li>
<li>Amazon (AMZN)</li>
<li>Apple (AAPL)</li>
<li>Netflix (NFLX)</li>
<li>Google (GOOG)</li>
</ul>
<p>Ahora en adelante FAANG.</p>
<p>La base de datos se encuentran almacenada en Dropbox en el siguiente enlace</p>
<ul>
<li><a href="https://www.dropbox.com/s/tjqvs9w16al1jl2/FAANG.csv?dl=1" class="uri">https://www.dropbox.com/s/tjqvs9w16al1jl2/FAANG.csv?dl=1</a></li>
</ul>
<p>Como tiene una extensión csv, utilizamos:</p>
<pre class="sourceCode r"><code class="sourceCode r">FAANG &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://www.dropbox.com/s/tjqvs9w16al1jl2/FAANG.csv?dl=1&quot;</span>)</code></pre>
<p>De esta manera podemos descargarla inmediatamente desde dropbox a nuestra
sesión en RStudio.</p>
<p>La base de <code>FAANG</code> contiene las siguientes observaciones.</p>
<div id="htmlwidget-243173b76c6db831a492" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-243173b76c6db831a492">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72"],["2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01"],[65.07,63.06,63.24,63.25,64.25,56.65,64.65,69.6,68.11,74.67,79.44,80.15,71.51,75.18,76.68,84.3,90.43,92.93,95.6,102.5,100.75,108,118.93,110.38,117.16,128.46,124.43,125.15,130.28,125.43,121.3,112.92,110.3,119.5,118.3,105.26,97.34,96.69,108.99,93.74,99.86,95.6,104.21,106.1,113.05,113.54,110.52,115.82,121.35,136.99,143.66,143.65,152.76,144.02,148.73,164,154.12,169.04,171.85,169.23,167.43,178.12,167.78,165.26,186.87,185.11,190.29,227.63,225.74,218.86,178.58,157.74],[265.5,264.27,266.49,253.81,269.2,277.69,301.22,280.98,312.64,364.03,393.62,398.79,358.69,362.1,336.37,304.13,312.55,324.78,312.99,339.04,322.44,305.46,338.64,310.35,354.53,380.16,372.1,421.78,429.23,434.09,536.15,512.89,511.89,625.9,664.8,675.89,587,552.52,593.64,659.59,722.79,715.62,758.81,769.16,837.31,789.82,750.57,768.66,823.48,845.04,886.54,924.99,994.62,968,987.78,980.6,961.35,1105.28,1176.75,1169.47,1450.89,1512.45,1447.34,1566.13,1629.62,1699.8,1777.44,2012.71,2003,1598.01,1690.17,1501.97],[30.98,27.25,25.58,27.77,24.35,24.88,36.8,41.29,50.23,50.21,47.01,54.65,62.57,68.46,60.24,59.78,63.3,67.29,72.65,74.82,79.04,74.99,77.7,78.02,75.91,78.97,82.22,78.77,79.19,85.77,94.01,89.73,89.9,101.97,104.24,104.66,112.21,106.92,114.1,117.58,118.81,114.28,123.94,126.12,128.27,130.99,118.42,115.05,130.32,135.54,142.05,150.25,151.46,150.98,169.25,171.97,170.87,180.06,177.18,176.46,186.89,178.32,159.79,172,191.78,194.32,172.58,175.73,164.46,151.79,140.61,131.09],[375.4,398.01,394.53,409.62,432.8,437.34,441.01,420.71,435.12,511.96,526.37,556.73,586.67,603.9,555.45,523.78,556.83,572.13,568.47,568.47,574.2,556.02,538.87,523.52,531.59,555.34,545,537.34,532.11,520.51,625.61,637.61,608.42,710.81,742.6,758.88,742.95,697.77,744.95,693.01,735.72,692.1,768.79,767.05,777.29,784.54,758.04,771.82,796.79,823.21,829.56,905.96,964.86,908.73,930.5,939.33,959.11,1016.64,1021.41,1046.4,1169.94,1104.73,1031.79,1017.33,1084.99,1115.65,1217.26,1218.19,1193.47,1076.77,1094.43,1035.61],[23.61,26.87,27.04,30.87,32.32,30.16,34.93,40.56,44.17,46.07,52.26,52.6,58.48,63.66,50.29,46.01,59.69,62.94,60.39,68.23,64.45,56.11,49.51,48.8,63.11,67.84,59.53,79.5,89.15,93.85,114.31,115.03,103.26,108.38,123.33,114.38,91.84,93.41,102.23,90.03,102.57,91.48,91.25,97.45,98.55,124.87,117,123.8,140.71,142.13,147.81,152.2,163.07,149.41,181.66,174.71,181.35,196.43,195.51,191.96,270.3,291.38,295.35,312.46,351.6,391.43,337.45,367.68,374.13,301.78,286.13,267.66]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>AAPL<\/th>\n      <th>AMZN<\/th>\n      <th>FB<\/th>\n      <th>GOOG<\/th>\n      <th>NFLX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="retorno-y-retorno-acumulado" class="section level3">
<h3><span class="header-section-number">2.10.1</span> Retorno y retorno acumulado</h3>
<p>La forma en que calcularemos el retorno logarítmico es siguiendo la formula
presentado durante el capítulo:</p>
<p><span class="math display">\[
r_t = log(1 + R_t) = log(\frac{P_t}{P_{t-1}}) = p_t - p_{t-1}
\]</span></p>
<p>Como tenemos la fecha (<code>date</code>) y el resto de las columnas con los precios, una
forma es crear una objeto con tres columnas, fecha (date), symbol (tickers) y
precios (<code>prices</code>).</p>
<div id="htmlwidget-cc4f775a9d6b1e118c6f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cc4f775a9d6b1e118c6f">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360"],["2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01"],["AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AAPL","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","AMZN","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","FB","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","GOOG","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX","NFLX"],[65.07,63.06,63.24,63.25,64.25,56.65,64.65,69.6,68.11,74.67,79.44,80.15,71.51,75.18,76.68,84.3,90.43,92.93,95.6,102.5,100.75,108,118.93,110.38,117.16,128.46,124.43,125.15,130.28,125.43,121.3,112.92,110.3,119.5,118.3,105.26,97.34,96.69,108.99,93.74,99.86,95.6,104.21,106.1,113.05,113.54,110.52,115.82,121.35,136.99,143.66,143.65,152.76,144.02,148.73,164,154.12,169.04,171.85,169.23,167.43,178.12,167.78,165.26,186.87,185.11,190.29,227.63,225.74,218.86,178.58,157.74,265.5,264.27,266.49,253.81,269.2,277.69,301.22,280.98,312.64,364.03,393.62,398.79,358.69,362.1,336.37,304.13,312.55,324.78,312.99,339.04,322.44,305.46,338.64,310.35,354.53,380.16,372.1,421.78,429.23,434.09,536.15,512.89,511.89,625.9,664.8,675.89,587,552.52,593.64,659.59,722.79,715.62,758.81,769.16,837.31,789.82,750.57,768.66,823.48,845.04,886.54,924.99,994.62,968,987.78,980.6,961.35,1105.28,1176.75,1169.47,1450.89,1512.45,1447.34,1566.13,1629.62,1699.8,1777.44,2012.71,2003,1598.01,1690.17,1501.97,30.98,27.25,25.58,27.77,24.35,24.88,36.8,41.29,50.23,50.21,47.01,54.65,62.57,68.46,60.24,59.78,63.3,67.29,72.65,74.82,79.04,74.99,77.7,78.02,75.91,78.97,82.22,78.77,79.19,85.77,94.01,89.73,89.9,101.97,104.24,104.66,112.21,106.92,114.1,117.58,118.81,114.28,123.94,126.12,128.27,130.99,118.42,115.05,130.32,135.54,142.05,150.25,151.46,150.98,169.25,171.97,170.87,180.06,177.18,176.46,186.89,178.32,159.79,172,191.78,194.32,172.58,175.73,164.46,151.79,140.61,131.09,375.4,398.01,394.53,409.62,432.8,437.34,441.01,420.71,435.12,511.96,526.37,556.73,586.67,603.9,555.45,523.78,556.83,572.13,568.47,568.47,574.2,556.02,538.87,523.52,531.59,555.34,545,537.34,532.11,520.51,625.61,637.61,608.42,710.81,742.6,758.88,742.95,697.77,744.95,693.01,735.72,692.1,768.79,767.05,777.29,784.54,758.04,771.82,796.79,823.21,829.56,905.96,964.86,908.73,930.5,939.33,959.11,1016.64,1021.41,1046.4,1169.94,1104.73,1031.79,1017.33,1084.99,1115.65,1217.26,1218.19,1193.47,1076.77,1094.43,1035.61,23.61,26.87,27.04,30.87,32.32,30.16,34.93,40.56,44.17,46.07,52.26,52.6,58.48,63.66,50.29,46.01,59.69,62.94,60.39,68.23,64.45,56.11,49.51,48.8,63.11,67.84,59.53,79.5,89.15,93.85,114.31,115.03,103.26,108.38,123.33,114.38,91.84,93.41,102.23,90.03,102.57,91.48,91.25,97.45,98.55,124.87,117,123.8,140.71,142.13,147.81,152.2,163.07,149.41,181.66,174.71,181.35,196.43,195.51,191.96,270.3,291.38,295.35,312.46,351.6,391.43,337.45,367.68,374.13,301.78,286.13,267.66]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>symbol<\/th>\n      <th>prices<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>
<p>Lo anterior se logra utilizando <code>gather(symbol, prices, -date)</code>, luego
agrupamos por symbol por medio de <code>group_by(symbol)</code> y creamos el retorno
<code>mutate(returns = log(prices/lag(prices)))</code>. Como tendremos <code>NA</code> usamos
<code>filter(!is.na(returns))</code>, finalmente eliminamos la columna <code>price</code> y
extendemos el objeto de tal forma de tener la fecha (<code>date</code>)
y las columnas restantes sea el retorno correspondiente a cada tickers
(<code>symbol</code>), <code>spread(symbol, returns)</code>. Todo lo anterior se resume en el
siguiente código:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># retornos </span>
FAANG_returns &lt;-<span class="st"> </span>FAANG <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(symbol, prices, <span class="op">-</span>date) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># en la tarea es -Date y no -date</span>
<span class="st">  </span><span class="kw">group_by</span>(symbol) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">returns =</span> <span class="kw">log</span>(prices<span class="op">/</span><span class="kw">lag</span>(prices))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(returns)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>prices) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">spread</span>(symbol, returns)</code></pre>
<div id="htmlwidget-33eb003b4c690de7e35f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-33eb003b4c690de7e35f">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71"],["2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01"],[-0.0314,0.0029,0.0003,0.0156,-0.1259,0.1321,0.0739,-0.0217,0.092,0.0619,0.0089,-0.1139,0.05,0.0198,0.0948,0.0702,0.0273,0.0283,0.0697,-0.0172,0.0695,0.0964,-0.0746,0.0596,0.0921,-0.0319,0.0058,0.0402,-0.0379,-0.0335,-0.0716,-0.0235,0.0801,-0.0101,-0.1168,-0.0782,-0.0067,0.1197,-0.1507,0.0632,-0.0436,0.0862,0.018,0.0634,0.0043,-0.027,0.0468,0.0466,0.1212,0.0475,-0.0001,0.0615,-0.0589,0.0322,0.0977,-0.0621,0.0924,0.0165,-0.0154,-0.0107,0.0619,-0.0598,-0.0151,0.1229,-0.0095,0.0276,0.1792,-0.0083,-0.031,-0.2034,-0.1241],[-0.0046,0.0084,-0.0488,0.0589,0.0311,0.0813,-0.0696,0.1068,0.1522,0.0781,0.013,-0.106,0.0095,-0.0737,-0.1008,0.0273,0.0384,-0.037,0.0799,-0.0502,-0.0541,0.1031,-0.0872,0.1331,0.0698,-0.0214,0.1253,0.0175,0.0113,0.2112,-0.0444,-0.002,0.2011,0.0603,0.0165,-0.141,-0.0605,0.0718,0.1053,0.0915,-0.01,0.0586,0.0135,0.0849,-0.0584,-0.051,0.0238,0.0689,0.0258,0.0479,0.0425,0.0726,-0.0271,0.0202,-0.0073,-0.0198,0.1395,0.0627,-0.0062,0.2156,0.0416,-0.044,0.0789,0.0397,0.0422,0.0447,0.1243,-0.0048,-0.2259,0.0561,-0.1181],[-0.1283,-0.0632,0.0821,-0.1314,0.0215,0.3914,0.1151,0.196,-0.0004,-0.0659,0.1506,0.1353,0.09,-0.1279,-0.0077,0.0572,0.0611,0.0766,0.0294,0.0549,-0.0526,0.0355,0.0041,-0.0274,0.0395,0.0403,-0.0429,0.0053,0.0798,0.0917,-0.0466,0.0019,0.126,0.022,0.004,0.0697,-0.0483,0.065,0.03,0.0104,-0.0389,0.0811,0.0174,0.0169,0.021,-0.1009,-0.0289,0.1246,0.0393,0.0469,0.0561,0.008,-0.0032,0.1142,0.0159,-0.0064,0.0524,-0.0161,-0.0041,0.0574,-0.0469,-0.1097,0.0736,0.1089,0.0132,-0.1186,0.0181,-0.0663,-0.0802,-0.0765,-0.0701],[0.0585,-0.0088,0.0375,0.055,0.0104,0.0083,-0.0471,0.0337,0.1626,0.0278,0.0561,0.0524,0.0289,-0.0836,-0.0587,0.0612,0.0271,-0.0064,0,0.01,-0.0322,-0.0313,-0.0289,0.0153,0.0437,-0.0188,-0.0142,-0.0098,-0.022,0.1839,0.019,-0.0469,0.1555,0.0438,0.0217,-0.0212,-0.0627,0.0654,-0.0723,0.0598,-0.0611,0.1051,-0.0023,0.0133,0.0093,-0.0344,0.018,0.0318,0.0326,0.0077,0.0881,0.063,-0.0599,0.0237,0.0094,0.0208,0.0583,0.0047,0.0242,0.1116,-0.0574,-0.0683,-0.0141,0.0644,0.0279,0.0872,0.0008,-0.0205,-0.1029,0.0163,-0.0552],[0.1295,0.0064,0.1324,0.046,-0.0694,0.1468,0.1495,0.0854,0.042,0.126,0.0065,0.106,0.085,-0.2358,-0.089,0.2604,0.0531,-0.0414,0.1221,-0.057,-0.1386,-0.1251,-0.0145,0.2572,0.0723,-0.1308,0.2893,0.1146,0.0513,0.1972,0.0063,-0.1079,0.0484,0.1292,-0.0753,-0.2195,0.017,0.0902,-0.1271,0.1304,-0.1144,-0.0025,0.0657,0.0112,0.2367,-0.0651,0.0565,0.128,0.01,0.0392,0.0293,0.069,-0.0875,0.1954,-0.039,0.0373,0.0799,-0.0047,-0.0183,0.3422,0.0751,0.0135,0.0563,0.118,0.1073,-0.1484,0.0858,0.0174,-0.2149,-0.0533,-0.0667]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>AAPL<\/th>\n      <th>AMZN<\/th>\n      <th>FB<\/th>\n      <th>GOOG<\/th>\n      <th>NFLX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>
<p>La lógica para los retornos acumulados es el mismo, pero ahora no debemos
trabajar con el objeto <code>FAANG</code>, sino con <code>FAANG_returns</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">FAANG_acum &lt;-<span class="st"> </span>FAANG_returns <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(symbol, returns, <span class="op">-</span>date) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(symbol) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">returns_acum =</span> <span class="kw">cumsum</span>(returns)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>returns) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">spread</span>(symbol, returns_acum)</code></pre>
</div>
<div id="graficar-retorno-acumulado" class="section level3">
<h3><span class="header-section-number">2.10.2</span> Graficar retorno acumulado</h3>
<pre class="sourceCode r"><code class="sourceCode r">FAANG_acum <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(symbol, returns_acum, <span class="op">-</span>date) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">y =</span> returns_acum, <span class="dt">x =</span> date, <span class="dt">color =</span> symbol)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">size =</span> <span class="fl">1.5</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Retornos Acumulados&quot;</span>, <span class="dt">subtitle =</span> <span class="st">&quot;FAANG&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>, <span class="dt">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span>) </code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="5">
<li id="fn5"><p>Proximamente incluire el tidyquant<a href="quantmod.html#fnref5" class="footnote-back">↩</a></p></li>
<li id="fn6"><p>No solo funcióna con <code>getSymbols</code>, si no que con todas las funciones de distintas librerias, basta con ante poner <code>?</code> y luego el nombre la función<a href="quantmod.html#fnref6" class="footnote-back">↩</a></p></li>
<li id="fn7"><p>Por el momento solo trabajaremos con estas opciones, exiten más.<a href="quantmod.html#fnref7" class="footnote-back">↩</a></p></li>
<li id="fn8"><p><code>TA</code> proviene de <em>Technical Analysis</em><a href="quantmod.html#fnref8" class="footnote-back">↩</a></p></li>
<li id="fn9"><p>Esta base es muy común en los software estadísticos y presenta datos de autos.<a href="quantmod.html#fnref9" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="portafolio.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-quantmod.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
