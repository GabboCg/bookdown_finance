[
["options.html", "Capítulo 6 Opciones, Derivados y Futuros 6.1 Call &amp; Put", " Capítulo 6 Opciones, Derivados y Futuros IMPORTANTE: Aún no está del todo listo el formato en pdf, por lo que recomiendo verlo online. if(!require(&quot;pacman&quot;)) install.packages(&quot;pacman&quot;) ## Loading required package: pacman p_load(&quot;tidyverse&quot;,&quot;quantmod&quot;) 6.1 Call &amp; Put A modo de resumen, existen cuatro tipos de posiciones en las opciones: Posición larga en una opción de compra (call) Posición larga en una opción de venta (put) Posición corta en una opción de compra (call) Posición corta en una opción de venta (put) Simulamos nuestro \\(S_t\\): # Valores para el ejemplo s &lt;- seq(0,130,by=10) # Precio Para la call usamos: v (precio de la call) = $5, precio de ejercicio (k) = 100. Para la put usamos: v (precio de la put) = $7, precio de ejercicio (k) = 70. 6.1.1 Posición Larga en Call: Payoff &amp; Profit EL rendimiento proveniente de una opción larga en una opción de compra europea es: Payoff opción call larga \\[ \\text{payoff} = \\text{max}(S_t - k,0) \\] Profit opción call larga \\[ \\text{profit} = \\text{payoff} - v*e^{-r*t} \\] Construimos la función: long.callpayoff &lt;- function(s,k,v,r,t){ data.frame(&quot;payoff&quot; = pmax(0,s-k), &quot;periodo&quot; = s) %&gt;% mutate(&quot;profit&quot; = payoff - v*exp(-r*t)) } payoff.longcall &lt;- long.callpayoff(s,100,5,0,0) Gráfico posición larga en call: g1 &lt;- ggplot(payoff.longcall) + geom_line(aes(x = periodo, y = payoff), colour=&quot;red&quot;, size=1.5) + xlab(&quot;Tiempo de Expiracion&quot;) + ylab(&quot;Payoff&quot;) g1 &lt;- g1 + theme_bw() + ggtitle(&quot;Payoff de una Option Call&quot;) g1 &lt;- g1 + labs(subtitle = &quot;Posicion Larga en Call&quot;) g1 &lt;- g1 + scale_x_continuous(limits=c(70, 130)) + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) g1 Para corroborar el gráfico ver la figura 9.1 (capítulo 9) del libro Introducción a los Mercados de Futuros y Opciones (octava edición). Para efecto de académicos restringimos la escala del eje x e y (dimensión). Gráfico profit posición larga en call: g2 &lt;- ggplot(payoff.longcall) + geom_line(aes(x = periodo, y = profit), colour=&quot;red&quot;, size=1.5) + xlab(&quot;Tiempo de Expiracion&quot;) + ylab(&quot;Profit&quot;) g2 &lt;- g2 + theme_bw() + ggtitle(&quot;Profit de una Option Call&quot;) + labs(subtitle = &quot;Posicion Larga en Call&quot;) g2 &lt;- g2 + geom_hline(yintercept=0, linetype=&quot;dashed&quot;,color = &quot;blue&quot;, size=1.5) g2 &lt;- g2 + scale_x_continuous(breaks = round(seq(min(payoff.longcall$periodo), max(payoff.longcall$periodo), by = 10),1),limits=c(70, 130)) + scale_y_continuous(breaks = round(seq(min(payoff.longcall$profit), max(payoff.longcall$profit), by = 10),1),limits = c(limits=c(-5, 30))) g2 &lt;- g2 + theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) g2 "]
]
